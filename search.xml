<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æœåŠ¡å¤–åŒ…å›½èµ›æ€»ç»“]]></title>
    <url>%2F%E6%9C%8D%E5%8A%A1%E5%A4%96%E5%8C%85%E5%9B%BD%E8%B5%9B%E6%80%BB%E7%BB%93.html</url>
    <content type="text"><![CDATA[å¾…æ›´]]></content>
      <categories>
        <category>ç«èµ›</category>
      </categories>
      <tags>
        <tag>ç«èµ›</tag>
        <tag>æœåŠ¡å¤–åŒ…</tag>
        <tag>æ€»ç»“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[First Vlog]]></title>
    <url>%2FFirst_Vlog.html</url>
    <content type="text"><![CDATA[ç¬¬ä¸€æ¬¡å‚åŠ å¿—æ„¿è€…æ´»åŠ¨ï¼Œå»æ­å·å›¾ä¹¦é¦†åšäº†ä¸‰å°æ—¶ã€‚ä¸€è·¯ä¸Šâ€œå·å·â€æ‹äº†äº›ç´ æï¼Œç„¶åå“å“å“å“å‰ªå‡ºäº†ç¬¬ä¸€ä¸ªVlogã€‚Your browser does not support the video tag.]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>vlog</tag>
        <tag>æ­å·å›¾ä¹¦é¦†</tag>
        <tag>å¿—æ„¿è€…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ å¥½ï¼Œé™ˆåŒå­¦]]></title>
    <url>%2FNicetomeetyou.html</url>
    <content type="text"><![CDATA[åºç«  Prologueâ€”&nbsp;&nbsp;&nbsp;&nbsp;â€æˆ‘å–œæ¬¢ä½ â€â€”&nbsp;&nbsp;&nbsp;&nbsp;â€å¥½å•Šâ€æ¡çº¦ Principleæœªå®šæš‚æ— æ—¥å¸¸ Daliy4æœˆ10æ—¥ å¤šäº‘è½¬å°é›¨ æ˜ŸæœŸä¸‰&emsp;é™ˆåŒå­¦è¯´æ™šä¸Šè·‘å®Œæ­¥è¦åšå¥½å¿ƒç†å‡†å¤‡ï¼Œä¸€å†å¼ºè°ƒä¸è¦è®©æˆ‘æŠ±æœŸå¾…ã€‚å¿ƒæƒ³è‚¯å®šä¹Ÿä¸ä¼šæ˜¯ä»€ä¹ˆåäº‹ï¼ŒæŠ±ä¸€ç‚¹æœŸå¾…è¿˜æ˜¯å¯ä»¥çš„ï¼Œä¹Ÿä¸å¤šå°±ä¸€ç‚¹ç‚¹ã€‚æœ€åå¥¹æ…¢æ…¢ä»ä¹¦åŒ…é‡Œæ‹¿å‡ºä¸€å¼ çº¸æ¡ï¼Œä¸å¯¹ï¼Œåº”è¯¥æ˜¯ä¸€å¼ A4çº¸ï¼Œè®©å›å»å†æ‹†ï¼Œèµ°å‰å˜±å’æˆ‘ä¸è¦æŠ±æœŸå¾…ã€‚â€˜è¿™ä¹ˆå¤§çš„çº¸ï¼Œä¸€å®šå†™äº†ä¸å°‘ä¸œè¥¿â€˜æš—æš—ç›˜ç®—ç€ï¼Œæ‰“å¼€ä¸€çœ‹ã€‚å“‡ï¼ï¼ï¼&emsp;emmmï¼Œè¿˜çœŸçš„æ˜¯ä¸€ç‚¹ç‚¹ç‚¹éƒ½æ²¡æœ‰å‘¢ï¼ï¼ï¼4æœˆ11æ—¥ é˜´ æ˜ŸæœŸå››&emsp;ä»Šæ™šå……æ»¡æ•´ä¸ªæ“åœºçš„å¤§æ¦‚åªæœ‰é™ˆåŒå­¦å’Œæˆ‘çš„å“ˆå“ˆå“ˆï¼Œå’Œï¼ˆä¸€è„¸å‡é‡å¤§çˆ·è“ç‰™è€³æœºä¸­çš„ï¼‰ã€Šå°è·³è›™ã€‹äº†å§ï¼Œå“ˆå“ˆå“ˆå—ï¼4æœˆ12æ—¥ æ™´ æ˜ŸæœŸäº”&emsp;ä»Šå¤©å‘ç”Ÿäº†ä¸€ä»¶æ‚²ä¼¤çš„äº‹ï¼šçªç„¶æƒ³èµ·æ¥Uç›˜è½åœ¨ä¸Šè¡£å£è¢‹é‡Œè¢«æˆ‘æ”¾è¿›æ´—è¡£æœºé‡Œæ´—äº†ï¼Œç„¶åå‘ç”Ÿäº†ä¸€ä»¶æ¯”æ‚²ä¼¤æ›´æ‚²ä¼¤çš„äº‹ï¼šæˆ‘å›å»æ‰¾ä¸Šè¡£å£è¢‹å‘ç°ç©ºï¼ç©ºï¼å¦‚ï¼ä¹Ÿï¼æˆ‘ä»¥åå†ä¹Ÿä¸ä¹°äº†ğŸ˜­&emsp;è¿™æ ·å­çš„è¯æˆ‘åªèƒ½æ¬ºè´Ÿæ¬ºè´Ÿé™ˆåŒå­¦äº†ï¼Œç«™ä½åˆ«è·‘ï¼Œæ”¾å­¦åæ“åœºè§ã€‚4æœˆ13æ—¥ é˜´ æ˜ŸæœŸå…­&emsp;é™ˆåŒå­¦ä½ æ˜¯ç»ç’ƒåšçš„å§ï¼Œè®­ç»ƒåˆä¼¤äº†ï¼Œæˆå°±æ”¯ç¦»ç ´ç¢å·²æ”¶é›†ï¼ˆ2/5ï¼‰ï¼Œè¿™å¤ªæƒ¨äº†å§ã€‚ç©ç¬‘å½’ç©ç¬‘ï¼Œè™½ç„¶è¿™ç§å—ä¼¤ä¸å¯æ§ï¼Œä½†æ˜¯ä»¥åè®­ç»ƒè¿˜æ˜¯å°å¿ƒç€ç‚¹ï¼Œè¿™ä¹ˆä¼¤ä¸‹å»è°é¡¶å¾—ä½å•Šã€‚&emsp;ä»Šæ™šçš„æ”»ç•¥è®¨è®ºçš„è¿˜å¯ä»¥ï¼Œè™½ç„¶æˆ‘ä»€ä¹ˆéƒ½æ²¡æ”»ç•¥å‡ºæ¥å“ˆå“ˆå“ˆï¼Œä½†æ˜¯çœäº†æŒºå¤šé’±çš„ä¸é”™ä¸é”™ã€‚è¿˜æœ‰ä»Šæ™šçš„800ç±³å¤ªå¯æ€•äº†ï¼Œä¸¤ä¸ª400ç±³å†²åˆºå¿«è¦äº†æˆ‘çš„ç‹—å‘½ï¼Œé™ˆåŒå­¦ä¸‹æ¬¡å¯ä¸å¯ä»¥ä¸‹æ‰‹è½»ä¸€ç‚¹å‘¢ï¼ˆç–¯ç‹‚çœ¨çœ¼ğŸ˜‰ï¼Œè™½ç„¶å¥½åƒå¹¶ä¸å¤ªå¯èƒ½ï¼‰ã€‚è®°å½• Memoryæš‚æ— ï¼ˆæˆ‘è¿™å€’æ˜¯æœ‰ä¸€å¼ é™ˆåŒå­¦çš„â€œå†™çœŸâ€ï¼ˆåç¬‘ï¼‰ï¼‰è®¡åˆ’ Schedule&nbsp;&nbsp;äº”ä¸€(5.3-5.5)æ¸¸ç© æ¨ªåº— æµ™æ±Ÿé‡‘åStory to be continued]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®æœåŠ¡é¡¹ç›®åˆæ­¥æ­å»º]]></title>
    <url>%2Fcloud.html</url>
    <content type="text"><![CDATA[ä¸€ä¸ªåˆæ­¥çš„å¾®æœåŠ¡é¡¹ç›®ï¼Œdockeréƒ¨ç½²ã€‚åŸºäºSpringBootå’ŒSpringCloudæ•´åˆShiroã€JWTã€zuulã€Eurekaã€dockerã€nginxç­‰æŠ€æœ¯ã€‚é¡¹ç›®ç®€ä»‹è¿™ä¸ªå°é¡¹ç›®ç›®å‰åˆæ­¥æ­å»ºå¥½äº†å¾®æœåŠ¡è„šæ‰‹æ¶çš„ä¸€éƒ¨åˆ†ã€‚ä½¿ç”¨shiro+jwtæ„å»ºé‰´æƒä½“ç³»ï¼Œspring cloud zuulåšAPIç½‘å…³è¿›è¡Œè·¯ç”±è½¬å‘ï¼Œnginxé€šè¿‡åå‘ä»£ç†å¯¹ç½‘å…³è¿›è¡Œé«˜å¯ç”¨å’Œè´Ÿè½½å‡è¡¡å’Œé™æ€åŒ–ï¼ŒEurekaè¿›è¡ŒæœåŠ¡æ²»ç†ï¼ˆFeignè¿›è¡ŒæœåŠ¡è°ƒç”¨ï¼‰ã€‚æºç åœ°å€æŠ€æœ¯é€‰å‹SpringBoot 2.0.4.RELEASESpringCloud Finchley.M9Shiro 1.4.0JWT 3.4.0Maven 3.5.4Jdk 8é¡¹ç›®å…³é”®é¡¹ç›®ä½¿ç”¨shiro+jwtçš„é‰´æƒæœºåˆ¶ï¼Œé€šè¿‡JWTFilterå°†jwtæ•´åˆåˆ°shiroï¼ŒJWTTokenå­˜æ”¾ç”¨æˆ·åã€‚JWTFilteréƒ¨åˆ†ä»£ç @Override protected boolean isAccessAllowed(ServletRequest request, ServletResponse response, Object mappedValue) { if(isLoginAttempt(request,response)){ try{ //æ£€æŸ¥token executeLogin(request,response); return true; }catch (Exception e){ //tokené”™è¯¯ responseError(response,e.getMessage()); } } //è¯·æ±‚å¤´ä¸å­˜åœ¨Tokenï¼Œå¯èƒ½æ˜¯æœªç™»å½•æ—¶ï¼ˆæ¸¸å®¢ï¼‰çš„è®¿é—®çŠ¶æ€ï¼Œåˆ™æ— éœ€æ£€æŸ¥token return true; } shiroä¸­æ·»åŠ JWTFilterï¼Œå¯¹æ‰€æœ‰ä¹‹å‰ï¼ˆå…¶ä»–è¿‡æ»¤å™¨ï¼‰æœªåŒ¹é…åˆ°çš„è¯·æ±‚è¿›è¡Œè¿‡æ»¤ã€‚ShiroConfigéƒ¨åˆ†ä»£ç  @Bean public ShiroFilterFactoryBean shiroFilter(SecurityManager securityManager){ ShiroFilterFactoryBean filterFactoryBean=new ShiroFilterFactoryBean(); Map&lt;String, Filter> filterMap=new HashMap&lt;>(); filterMap.put("jwt",new JWTFilter()); filterFactoryBean.setFilters(filterMap); filterFactoryBean.setSecurityManager(securityManager); Map&lt;String,String> filterChainDefinitionMap=new HashMap&lt;>(); filterChainDefinitionMap.put("/logout","anon"); filterChainDefinitionMap.put("/login","anon"); filterChainDefinitionMap.put("/**","jwt"); filterFactoryBean.setLoginUrl("/login"); filterFactoryBean.setSuccessUrl("/index"); filterFactoryBean.setUnauthorizedUrl("/403"); filterFactoryBean.setFilterChainDefinitionMap(filterChainDefinitionMap); return filterFactoryBean; } é¡¹ç›®å‡ºç°çš„BUGæ‰“åŒ…æ—¶ï¼ŒæŠ¥ç¼ºå°‘å…¬å…±æ¨¡å—jaråŒ…çš„é”™è¯¯ã€‚å…¬å…±æ¨¡å—ä¸éœ€è¦æ‰“åŒ…ï¼Œæ‰€ä»¥ä¸éœ€è¦æ·»åŠ mavenæ’ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºå…¶ä»–æ¨¡å—åœ¨æ‰“åŒ…çš„æ—¶å€™ä¼šè‡ªåŠ¨æ·»åŠ ä¾èµ–è¿›å»ï¼Œå¦‚æœè¿™é‡Œæ‰“åŒ…äº†ï¼Œå…¶ä»–çš„æ¨¡å—å°±æ‰¾ä¸åˆ°è¯¥ä¾èµ–äº†ã€‚çˆ¶é¡¹ç›®æ·»åŠ springbootçš„mavenæ’ä»¶æ‰“åŒ…æ—¶ä¼šæŠ¥Unable to find main classã€‚[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.0.4.RELEASE:repackage (default) on project common-util: Execu tion default of goal org.springframework.boot:spring-boot-maven-plugin:2.0.4.RELEASE:repackage failed: Unable to find main class æ”¹æˆä»¥ä¸‹çš„ç¼–è¯‘å’Œæµ‹è¯•çš„mavenæ’ä»¶ï¼Œé¡¹ç›®å¯ä»¥æ‰“åŒ…æˆåŠŸã€‚è¿™ä¸ªé—®é¢˜è¿˜æ²¡æœ‰æ‰¾åˆ°åˆç†çš„è§£é‡Šæ–¹æ¡ˆï¼Œæˆ‘æƒ³å¯èƒ½æ˜¯å› ä¸ºspring-boot-maven-pluginè¦æ‰“åŒ…æˆå¯æ‰§è¡ŒjaråŒ…ï¼Œè€Œå…¬å…±æ¨¡å—é‡Œæ˜¯æ²¡æœ‰å¯åŠ¨ç±»ï¼ˆmain classï¼‰çš„ï¼Œæ‰€ä»¥ä½¿ç”¨æ­¤æ’ä»¶ä¼šæŠ¥é”™ã€‚&lt;build> &lt;plugins> &lt;plugin> &lt;groupId>org.apache.maven.plugins&lt;/groupId> &lt;artifactId>maven-compiler-plugin&lt;/artifactId> &lt;version>3.1&lt;/version> &lt;configuration> &lt;source>${java.version}&lt;/source> &lt;target>${java.version}&lt;/target> &lt;/configuration> &lt;/plugin> &lt;plugin> &lt;groupId>org.apache.maven.plugins&lt;/groupId> &lt;artifactId>maven-surefire-plugin&lt;/artifactId> &lt;version>2.19.1&lt;/version> &lt;configuration> &lt;skipTests>true&lt;/skipTests> &lt;!--é»˜è®¤å…³æ‰å•å…ƒæµ‹è¯• --> &lt;/configuration> &lt;/plugin> &lt;/plugins> &lt;/build> å­æ¨¡å—çš„ä¾èµ–ä¸­åŠ å…¥docker-maven-pluginçš„æ’ä»¶ã€‚æ­¤æ’ä»¶å¯ä»¥å¿«é€Ÿçš„æ‰“åŒ…é•œåƒã€ä¸Šä¼ é•œåƒç­‰ã€‚æœ€å¥½åŠ å…¥spring-boot-maven-pluginæ’ä»¶ï¼Œæˆ‘è®°å¾—æ‰“åŒ…è¿‡ç¨‹ä¸­å‡ºç°è¿‡é—®é¢˜å°±æ˜¯ç¼ºå°‘è¿™ä¸ªæ’ä»¶çš„åŸå› ï¼ˆå¥½åƒæ˜¯ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œè®°ä¸å¤ªæ¸…äº†ï¼‰ã€‚&lt;build> &lt;plugins> &lt;plugin> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-maven-plugin&lt;/artifactId> &lt;/plugin> &lt;plugin> &lt;groupId>com.spotify&lt;/groupId> &lt;artifactId>docker-maven-plugin&lt;/artifactId> &lt;version>1.0.0&lt;/version> &lt;executions> &lt;execution> &lt;id>build-image&lt;/id> &lt;phase>package&lt;/phase> &lt;goals> &lt;goal>build&lt;/goal> &lt;/goals> &lt;/execution> &lt;/executions> &lt;configuration> &lt;imageName>${project.parent.artifactId}/${project.artifactId}&lt;/imageName> &lt;dockerHost> http://192.168.43.2:2375&lt;/dockerHost> &lt;dockerDirectory>${project.basedir}&lt;/dockerDirectory> &lt;resources> &lt;resource> &lt;targetPath>/&lt;/targetPath> &lt;directory>${project.build.directory}&lt;/directory> &lt;include>${project.build.finalName}.jar&lt;/include> &lt;/resource> &lt;/resources> &lt;/configuration> &lt;dependencies> &lt;dependency> &lt;groupId>org.apache.httpcomponents&lt;/groupId> &lt;artifactId>httpclient&lt;/artifactId> &lt;version>4.5.6&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>javax.activation&lt;/groupId> &lt;artifactId>activation&lt;/artifactId> &lt;version>1.1.1&lt;/version> &lt;/dependency> &lt;/dependencies> &lt;/plugin> &lt;/plugins> &lt;/build> dockerä¸èƒ½ä½¿ç”¨localhostå› ä¸º bridge æ˜¯ Docker é»˜è®¤çš„ç½‘ç»œæ¨¡å¼ï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä¸€ä¸ª host ä¸Šçš„å„ä¸ª container ä» docker è·å–çš„ IP éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼ˆåœ¨ä¸»æœºç¼–è¯‘éƒ¨ç½²åå¤§å®¶éƒ½æ˜¯ localhostï¼Œä½†æ˜¯åœ¨ docker é‡Œé¢æƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼‰ã€‚è§£å†³æ–¹æ³•åˆ©ç”¨dockerçš„ä¸»æœºåï¼Œä¸ºeurekaçš„å®¹å™¨é…ç½®ä¸€ä¸ªä¸»æœºåï¼ˆä»»æ„å³å¯ï¼‰ï¼Œæ¯”å¦‚eureka-serverã€‚eureka-serveræ¨¡å—é…ç½®æ–‡ä»¶eureka: client: fetch-registry: false register-with-eureka: false service-url: defaultZone: http://eureka-server:8000/eureka/ eureka-clientæ¨¡å—é…ç½®æ–‡ä»¶eureka: client: service-url: defaultZone: http://eureka-server:8000/eureka/ æ•´åˆshiroå‡ºç°No bean of type â€˜org.apache.shiro.realmæœ¬æ¥æ˜¯æŠŠshiroçš„ä¸€äº›é…ç½®å’ŒJWTTokenç±»è¿™äº›æ”¾åˆ°å…¬å…±æ¨¡å—ä¸­ã€‚ä½†æ˜¯ä¸€ç›´æŠ¥å¦‚ä¸Šé”™è¯¯ï¼Œæç¤ºæˆ‘åˆ›å»ºshiro.iniï¼Œä½†æ˜¯è¿™æ ·çš„è¯é‡‡ç”¨ç¡¬ç¼–ç æ–¹å¼æŠŠè®¤è¯æˆæƒä¿¡æ¯å†™åœ¨INIæ–‡ä»¶ä¸­,å¯ç»´æŠ¤æ€§å·®ã€‚æ²¡åŠæ³•ï¼Œåªèƒ½æŠŠshiroæœ‰å…³çš„é…ç½®å’ŒLoginControlleræ”¾åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ã€‚zuulä¼šè¿‡æ»¤æ•æ„Ÿå¤´éƒ¨ï¼Œå¯¼è‡´ä¸¢å¤±tokenã€‚zuulä¼šè¿‡æ»¤æ‰Cookie, Set-Cookie, Authorizationçš„headerä¿¡æ¯ï¼Œå¯¼è‡´jwtçš„tokenåœ¨è½¬å‘æ—¶ä¸¢å¤±ã€‚åœ¨ZuulPropertiesæºç ä¸­å¯ä»¥çœ‹åˆ°é»˜è®¤çš„sensitiveHeaderså¦‚ä¸‹ã€‚ï¼ˆå¦‚æœå¤´éƒ¨å‡ºç°å«æœ‰sensitiveHeadersçš„ä¿¡æ¯ï¼Œå°±ä¸ä¼šæ·»åŠ åˆ°è½¬å‘çš„è¯·æ±‚ä¸­ï¼‰private Set&lt;String> sensitiveHeaders = new LinkedHashSet(Arrays.asList("Cookie", "Set-Cookie", "Authorization")); åªè¦ä¿®æ”¹zuulçš„sensitiveHeadersé…ç½®å³å¯ã€‚è®¾ç½®ä¸ºç©ºï¼Œè®¾ç½®ä¸ºç©ºï¼Œè®¾ç½®ä¸ºç©ºã€‚zuul: sensitive-headers: nginxçš„httpæ¨¡å—ã€‚æˆ‘åªè¦åœ¨nginxé…ç½®æ–‡ä»¶åŠ å…¥http{}ï¼Œå°±ä¼šæŠ¥â€œhttp&quot; directive is not allowed here in /etc/nginx/conf.d/app.confé”™è¯¯ã€‚çœŸçš„æ˜¯ä¸ªè°œä¹‹é”™è¯¯ï¼Œ-_-ã€‚å‚è€ƒèµ„æ–™Spirng boot mavenå¤šæ¨¡å—æ‰“åŒ…è¸©å‘Spring Cloudå®æˆ˜å°è´´å£«ï¼šZuulå¤„ç†Cookieå’Œé‡å®šå‘giteeé¡¹ç›® micro-serviceexception is feign.RetryableException: Connection refused (Connection refused) executing GET httpï¼š//â€¦â€¦]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>SpringCloud</tag>
        <tag>Shiro</tag>
        <tag>Nginx</tag>
        <tag>JWT</tag>
        <tag>Docker</tag>
        <tag>Eureka</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘çš„æŠ€èƒ½æ ‘ï¼ˆæƒ¨ä¸å¿ç¹ï¼‰]]></title>
    <url>%2Ffreetalk.html</url>
    <content type="text"><![CDATA[ç½‘ä¸Šæœ‰å¾ˆå¤šæ–‡ç« éƒ½æœ‰è¿™å¼ å›¾ç‰‡ï¼Œåä¸ºâ€œ2018Webå¼€å‘éœ€è¦æŒæ¡çš„æŠ€èƒ½â€ï¼Œæ­£å¥½è‡ªå·±åœ¨å­¦ä¹ è¿™ä¸€æ–¹é¢ï¼Œæ‰€ä»¥æƒ³è¦çœ‹çœ‹è‡ªå·±éƒ½ä¼šç‚¹ä»€ä¹ˆã€‚&nbsp;Java å¤šçº¿ç¨‹æŒæ¡æ¯”è¾ƒå·®ã€JVMè¿˜æ²¡äº†è§£è¿‡WebServerNginx çœ‹åˆ°å®ƒåªçŸ¥é“è´Ÿè½½å‡è¡¡ï¼Œç¨å¾®æœ‰ç‚¹äº†è§£RESTful APIs æ®æˆ‘æ‰€çŸ¥ä½¿ç”¨GETã€PUTã€DELETEã€POSTè¯·æ±‚æ–¹å¼æ¥ç®€åŒ–APIAUthenticationJWT äº†è§£è¿‡ä¸€ç‚¹ï¼ŒåŸç†ä¸æ˜¯å¾ˆæ‡‚ï¼Œæœªå®è·µè¿‡OAuth 2.0 æœªäº†è§£è¿‡âŒDocker åŸºæœ¬éƒ¨ç½²å¯ä»¥å®ç°Message BrokersRabbitMQ æœªäº†è§£è¿‡âŒApache Kafka æœªäº†è§£è¿‡âŒCachingMemcached æœªäº†è§£è¿‡âŒRedis å¯ä»¥å®ç°ç¼“å­˜ï¼Œä½†æ˜¯æ•°æ®ç»“æ„å­¦äº†å°±å¿˜äº†DatabasesMySQL Sqlä¼˜åŒ–ä¸ä¼šMongoDB æœªäº†è§£è¿‡âŒElasticSearch æœªäº†è§£è¿‡âŒGOF Design Patterns åªä¼šå•ä¾‹æ¨¡å¼ã€å·¥å‚æ¨¡å¼å¥½åƒåˆå¿˜äº†Architectural Patterns æœªäº†è§£è¿‡âŒGive DDD a shot æœªäº†è§£è¿‡âŒLearn different testing techniques äº†è§£è¿‡Mockingï¼Œå…¶ä»–ä¸çŸ¥é“&nbsp;åˆ—å‡ºæ¥åå‘ç°è‡ªå·±éƒ½åœç•™åœ¨æ— è„‘è°ƒç”¨æ¥å£ï¼Œåªä¼šè¡¨é¢ï¼Œå¯¹äºæ·±å±‚çš„å®ç°å’ŒåŸç†éƒ½ä¸æ€ä¹ˆæ‡‚ã€‚è€Œä¸”æœ‰è¿™ä¹ˆå¤šå‰å‰éƒ½æ²¡äº†è§£è¿‡ã€‚å°‘å¹´ä¸èƒ½æµªè´¹æ—¶é—´äº†ï¼Œå¿«é†’é†’å•Šï¼äº‰å–æŠŠè¿™äº›éƒ½å˜æˆç»¿å‹¾å‹¾ï¼ï¼ï¼]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>æŠ€èƒ½æ ‘</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[githubä»£ç ä¸Šä¼ ]]></title>
    <url>%2Fgithub%E4%BB%A3%E7%A0%81%E4%B8%8A%E4%BC%A0.html</url>
    <content type="text"><![CDATA[$ git init$ git add .$ git commit -m &quot;first commit&quot;$ git remote add origin https://github.com/yourName/yourRepo.git$ git push -u origin master#ä¸Šä¼ å¤šä¸ªé¡¹ç›®åˆ°ä¸€ä¸ªä»“åº“$ git add .$ git commit -m &quot;second commit&quot;$ git push -u origin master#pushå¤±è´¥,æœ¬åœ°ä¸ä»“åº“ä¸ä¸€è‡´ï¼Œå…ˆpullä¸‹æ¥$ git pull --rebase origin master$ git push -u origin master]]></content>
      <categories>
        <category>æŠ€æœ¯æ‚çƒ©</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°ä¸€æ¬¡æƒ¨ç—›çš„Dockeréƒ¨ç½²SpringBootç»å†]]></title>
    <url>%2F%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%83%A8%E7%97%9B%E7%9A%84Docker%E9%83%A8%E7%BD%B2SpringBoot.html</url>
    <content type="text"><![CDATA[ç¯å¢ƒSpringBoot 2.0.4.RELEASEDocker 18.06.1-ceUbuntu 16.04Jdk 8Maven 3.5.4æ­å»ºSpringBooté¡¹ç›®å¯¼å…¥webä¾èµ–ï¼Œç¼–å†™ä¸€ä¸ªç®€å•çš„Controllerã€‚ç„¶åæ·»åŠ Dockeræ”¯æŒã€‚&lt;!--docker maven æ’ä»¶--> &lt;plugin> &lt;groupId>com.spotify&lt;/groupId> &lt;artifactId>docker-maven-plugin&lt;/artifactId> &lt;version>1.0.0&lt;/version> &lt;configuration> &lt;imageName>${project.artifactId}&lt;/imageName> &lt;!--æ³¨æ„ ä¿®æ”¹æˆè¿œç¨‹æœåŠ¡å™¨åœ°å€--> &lt;dockerHost> http://192.168.43.2:2375&lt;/dockerHost> &lt;dockerDirectory>src/main/docker&lt;/dockerDirectory> &lt;resources> &lt;resource> &lt;targetPath>/&lt;/targetPath> &lt;directory>${project.build.directory}&lt;/directory> &lt;include>${project.build.finalName}.jar&lt;/include> &lt;/resource> &lt;/resources> &lt;/configuration> &lt;dependencies> &lt;dependency> &lt;groupId>org.apache.httpcomponents&lt;/groupId> &lt;artifactId>httpclient&lt;/artifactId> &lt;version>4.5.6&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>javax.activation&lt;/groupId> &lt;artifactId>activation&lt;/artifactId> &lt;version>1.1.1&lt;/version> &lt;/dependency> &lt;/dependencies> &lt;/plugin> éœ€è¦javax.activationä¾èµ–ï¼Œä¸ç„¶ä¼šæŠ¥java.lang.ClassNotFoundException: javax.activation.DataSourceé”™è¯¯ã€‚ç¯å¢ƒé…ç½®å¥½åï¼Œç¼–å†™DockerfileFROM openjdk:8-jdk-alpine VOLUME /opt/common ADD dockerdemo-1.0.jar app.jar ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/app.jar"] EXPOSE 8080 VOLUME ï¼ŒVOLUME æŒ‡å‘äº†ä¸€ä¸ª/opt/commonçš„ç›®å½•ï¼Œç”±äº Spring Boot ä½¿ç”¨å†…ç½®çš„Tomcatå®¹å™¨ï¼ŒTomcat é»˜è®¤ä½¿ç”¨/opt/commonä½œä¸ºå·¥ä½œç›®å½•ã€‚è¿™ä¸ªå‘½ä»¤çš„æ•ˆæœæ˜¯ï¼šåœ¨å®¿ä¸»æœºçš„/var/lib/dockerç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¹¶æŠŠå®ƒé“¾æ¥åˆ°å®¹å™¨ä¸­çš„/opt/commonç›®å½•ADD ï¼Œæ‹·è´æ–‡ä»¶å¹¶ä¸”é‡å‘½åENTRYPOINT ï¼Œä¸ºäº†ç¼©çŸ­ Tomcat çš„å¯åŠ¨æ—¶é—´ï¼Œæ·»åŠ java.security.egdçš„ç³»ç»Ÿå±æ€§æŒ‡å‘/dev/urandomä½œä¸º ENTRYPOINTè¿™é‡Œå¯ä»¥å®‰è£…ä¸€æ¬¾Docker integrationæ’ä»¶ï¼Œå¯ä»¥æ„å»ºé•œåƒï¼Œåˆ›å»ºä»“åº“ï¼Œä¸Šä¼ é•œåƒç­‰ã€‚å®‰è£…è¿™ä¸ªæ’ä»¶åï¼ŒDockerfileæ–‡ä»¶å°±èƒ½æ˜¾ç¤ºè¯­æ³•äº†ã€‚å…¶ä»–åŠŸèƒ½æš‚æ—¶æ²¡ç”¨åˆ°ã€‚é…ç½®è™šæ‹Ÿæœºç¯å¢ƒé…ç½®Jdk 8 $ sudo apt-get update $ sudo apt-get install openjdk-8-jdk ä½¿ç”¨java -versionæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚ç„¶åé…ç½®jdkç¯å¢ƒå˜é‡sudo gedit /etc/profile export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64 export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib export PATH=${JAVA_HOME}/bin:$PATH source /etc/profile é…ç½®Mavenä¸‹è½½ï¼šhttp://mirrors.shu.edu.cn/apache/maven/maven-3/3.5.4/binaries/apache-maven-3.5.4-bin.tar.gz## è§£å‹ tar vxf apache-maven-3.5.4-bin.tar.gz ## ç§»åŠ¨ mv apache-maven-3.5.4 /usr/local/maven3 ä»ç„¶æ˜¯åœ¨/etc/profileä¸­é…ç½®ç¯å¢ƒå˜é‡sudo gedit /etc/profile MAVEN_HOME=/usr/local/maven3 export MAVEN_HOME export PATH=${PATH}:${MAVEN_HOME}/bin source /etc/profile æ„å»ºã€ä¸Šä¼ ã€è¿è¡Œé•œåƒä½¿ç”¨docker buildæ’ä»¶å¯ä»¥å¿«é€Ÿæ„å»ºã€‚ä¹Ÿå¯ä»¥åœ¨Terminalè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ„å»ºã€‚mvn package docker:build æ„å»ºæˆåŠŸåï¼Œå°±å¯ä»¥åœ¨dockerä¸­ä½¿ç”¨docker imagesæŸ¥çœ‹é•œåƒã€‚REPOSITORY TAG IMAGE ID CREATED SIZE dockerdemo latest 2d6bfc475fa7 44 hours ago 119MB è¿è¡Œè¯¥é•œåƒdocker run -p 8080:8080 -t dockerdemo è¿è¡ŒæˆåŠŸåæµ‹è¯•Controlleræ˜¯å¦æˆåŠŸå³å¯ã€‚é‡åˆ°çš„é—®é¢˜1ã€dockeræ„å»ºé•œåƒæŠ¥é”™org.apache.http.conn.ConnectTimeoutException:contact timed outå¦‚æœä¹‹å‰æ²¡æœ‰é…ç½®è¿‡Dockerçš„è¿œç¨‹è®¿é—®ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯è¿™ä¸ªåŸå› ã€‚å¼€å¯APIè®¿é—®æœåŠ¡ï¼š$ systemctl show --property=FragmentPath docker FragmentPath=/lib/systemd/system/docker.service $ sudo gedit /lib/systemd/system/docker.service #ä¿®æ”¹ExecStart=/usr/bin/dockerd -H fd:// ä¸º ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375 #é‡è½½Docker $ sudo systemctl daemon-reload $ sudo systemctl restart docker docker -H tcp://127.0.0.1:2376 version Client: Version: 18.06.1-ce API version: 1.38 Go version: go1.10.3 Git commit: e68fc7a Built: Tue Aug 21 17:24:56 2018 OS/Arch: linux/amd64 Experimental: false Server: Engine: Version: 18.06.1-ce API version: 1.38 (minimum version 1.12) Go version: go1.10.3 Git commit: e68fc7a Built: Tue Aug 21 17:23:21 2018 OS/Arch: linux/amd64 Experimental: false è¿™æ ·å°±è¯´æ˜APIè¿œç¨‹è®¿é—®å·²å¼€å¯ã€‚ä¹Ÿå¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•éªŒè¯ps -ef | grep docker å¯ä»¥çœ‹åˆ°2375ç«¯å£å·²ç»åœ¨ç›‘å¬äº†ã€‚å†è¿›è¡Œæµ‹è¯•æŸ¥çœ‹æ˜¯å¦æˆåŠŸã€‚ä½†æ˜¯è¿˜æ˜¯æŠ¥äº†è¿™ä¸ªé”™è¯¯ï¼Œç½‘ä¸Šæ‰¾äº†å¾ˆå¤šæ²¡æœ‰ç±»ä¼¼é—®é¢˜ï¼Œæœ€åæ‰¾åˆ°ä¸€ä¸ªæœ‰ç±»ä¼¼é—®é¢˜çš„ï¼Œä¸è¿‡ä»–æ˜¯å°†æœåŠ¡å™¨éƒ¨ç½²åˆ°é˜¿é‡Œäº‘ä¸Šçš„ï¼Œæ˜¯å› ä¸ºé˜¿é‡Œäº‘æ§åˆ¶å°é‡Œçš„å®‰å…¨ç»„æ²¡æœ‰å¼€å¯2375ç«¯å£ã€‚Docker Mavenæ’ä»¶æœ¬åœ°æ„å»ºé•œåƒå‘å¸ƒè‡³è¿œç¨‹æœåŠ¡å™¨ä½†æ˜¯æˆ‘è¿™ä¸ªæ˜¯æœ¬åœ°çš„ï¼Œæ‰€ä»¥æ²¡æœ‰æ•ˆæœã€‚åªå¥½é‡è£…äº†Ubuntuï¼Œæ„å¤–çš„æˆåŠŸäº†ï¼ŒçŒœæƒ³å¯èƒ½æ˜¯ä¹‹å‰çš„Ubuntuæˆ–Dockerçš„é…ç½®å¯¼è‡´äº†è¿™ä¸ªé”™è¯¯ã€‚2ã€æŠ¥é”™java.lang.ClassNotFoundException: javax.activation.DataSourceæ˜¯å› ä¸ºdocker mavenæ’ä»¶ç¼ºå°‘javax.activationä¾èµ–ï¼ŒåŠ å…¥ä»¥ä¸‹ä¾èµ–&lt;dependency> &lt;groupId>javax.activation&lt;/groupId> &lt;artifactId>activation&lt;/artifactId> &lt;version>1.1.1&lt;/version> &lt;/dependency> 3ã€æŠ¥é”™Add failed: stat /ver/lib/docker/tmp/docker-builderXXXXXX:no such file or diræŠ¥è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºæ‰“åŒ…åå­—ä¸ä¸€è‡´ï¼Œpom.xmlçš„artifactIdä¸Dockerfileé•œåƒåè¦ä¸€è‡´ã€‚&nbsp;è¦æ˜¯æ€ä¹ˆæ ·éƒ½ä¸è¡Œï¼Œé‡è£…å§å°‘å¹´!&nbsp;å‚è€ƒèµ„æ–™Spring Boot 2.0(å››)ï¼šä½¿ç”¨ Docker éƒ¨ç½² Spring Bootdockerå¼€å¯è¿œç¨‹è®¿é—®Docker Mavenæ’ä»¶æœ¬åœ°æ„å»ºé•œåƒå‘å¸ƒè‡³è¿œç¨‹æœåŠ¡å™¨4ã€ä¸ºä»€ä¹ˆä½¿ç”¨docker?ä¹‹Dockerå»ºç«‹è¿œç¨‹è¿æ¥]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Docker</tag>
        <tag>å¾®æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Redisä½œä¸ºMybatisè¾…å­˜]]></title>
    <url>%2Fredis%E4%BD%9C%E4%B8%BA%E8%BE%85%E5%AD%98.html</url>
    <content type="text"><![CDATA[Q&amp;Aä¸ªäººæ€è€ƒQ1ï¼šä¸ºä»€ä¹ˆè¦ç”¨redisä½œä¸ºmysqlçš„è¾…å­˜ï¼ŸAï¼šä¸æ•°æ®åº“çš„äº¤äº’æ— éè¯»å’Œå†™ã€‚åœ¨è¯»è¿™ä¸€æ–¹é¢ï¼Œæ•°æ®çš„è®¿é—®ä¸€èˆ¬æ¥è¯´éƒ½ä¸æ˜¯å¹³å‡çš„ï¼Œæœ‰äº›æ•°æ®ç»å¸¸è¢«è®¿é—®ç§°ä¸ºâ€œçƒ­æ•°æ®â€ï¼Œè¿˜æœ‰ä¸€äº›ä¸ä¼šç»å¸¸è®¿é—®åˆ°çš„åˆ™ç§°ä¸ºå†·æ•°æ®ã€‚å¦‚æœè¦åœ¨è¿™é‡Œä¼˜åŒ–ï¼Œç¬¬ä¸€æ„Ÿè§‰è‚¯å®šæ˜¯å»ä¼˜åŒ–çƒ­æ•°æ®çš„è¯»å–é€Ÿåº¦ï¼Œå’Œè®¡ç®—æœºç»„æˆåŸç†å­¦çš„ç¼“å­˜ä¸€æ ·ï¼Œè¶Šé è¿‘CPUçš„Cacheè¯»å†™é€Ÿåº¦è¶Šå¿«ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—åœ¨è¯»å–æ—¶å¯ä»¥å…ˆå»è®¿é—®redisï¼Œæ²¡æœ‰å†å»æ•°æ®åº“é‡ŒæŸ¥æ‰¾ã€‚ç„¶åå°±æ˜¯å†™è¿™ä¸€æ–¹é¢ï¼Œå¯èƒ½ç¬é—´å†™çš„å‹åŠ›éå¸¸å¤§ï¼Œé€ æˆæ‹¥æŒ¤ç”šè‡³å¯èƒ½ç³»ç»Ÿå‡ºé”™ã€‚å› ä¸ºåœ¨å†™çš„é€Ÿåº¦æ–¹é¢redisåº”è¯¥æ˜¯ä¼˜äºç›´æ¥å†™å…¥æ•°æ®åº“çš„ï¼Œæ‰€ä»¥å¯ä»¥å…ˆå†™å…¥redisï¼Œç„¶åå†æ…¢æ…¢å†™å…¥æ•°æ®åº“ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¯¹å†™çš„å‹åŠ›å‡å°‘äº†ä¸€äº›ï¼Œä½†æ˜¯æ•°æ®çš„åŒæ­¥é—®é¢˜å‡ºç°äº†ã€‚Q2ï¼šé‚£ä¸ºä»€ä¹ˆé€‰æ‹©redisè¿˜ä¸æ˜¯å…¶ä»–çš„å·¥å…·ï¼ŸAï¼šemmâ€¦æˆ‘è§‰å¾—è¿™ä¸ªé—®é¢˜åªèƒ½å…ˆç•™ç€å§ï¼Œå…¶ä»–ä¹Ÿéƒ½æ²¡å­¦è¿‡ã€‚æ³¨ï¼šä»¥ä¸Šçº¯å±ä¸ªäººæƒ³æ³•ï¼Œä¸ä¸€å®šéƒ½æ˜¯æ­£ç¡®çš„ã€‚æŸ¥é˜…ä¸€ç•ªèµ„æ–™åå› ä¸ºredisæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œmysqlæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ï¼Œredisçš„è¯»å–é€Ÿåº¦æ¯”ç›´æ¥è¯»å–mysqlå¿«å¾ˆå¤šï¼Œæ‰€ä»¥ä¸€èˆ¬ç”¨äºçƒ­æ•°æ®çš„è¯»å–ï¼Œä¸é€‚åˆæ•°æ®é«˜ä¸€è‡´æ€§ï¼ˆç›´æ¥æ“ä½œMysqlï¼Œå°±ä¸è¦è€ƒè™‘ç”¨redisé€Ÿåº¦å¿«çš„ç‰¹æ€§æ¥å†™æ•°æ®ï¼‰ã€‚å¦‚æœä½¿ç”¨redisä½œä¸ºç¼“å­˜çš„è¯ï¼Œå…ˆå»redisä¸­åˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›redisä¸­çš„æ•°æ®ã€‚ä¸å­˜åœ¨çš„è¯ï¼Œå°±ä¼šå»æ•°æ®åº“ä¸­è¯»å–å¹¶ç¼“å­˜åˆ°redisä¸­ã€‚åŒæ—¶Redisæ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼ŒæœåŠ¡å™¨å…³é—­é‡å¯åå¯ä»¥é‡æ–°åŠ è½½ã€‚æœ‰ä¸¤ç§æŒä¹…åŒ–æ–¹å¼ï¼šå¿«ç…§ï¼ˆRDBæ–‡ä»¶ï¼‰å’Œè¿½åŠ å¼æ–‡ä»¶ï¼ˆAOFæ–‡ä»¶ï¼‰ã€‚RDBæŒä¹…åŒ–æ–¹å¼ä¼šåœ¨ä¸€ä¸ªç‰¹å®šçš„é—´éš”ä¿å­˜é‚£ä¸ªæ—¶é—´ç‚¹çš„ä¸€ä¸ªæ•°æ®å¿«ç…§ï¼ŒAOFæ–¹å¼ä¼šè®°å½•æ¯ä¸€ä¸ªå†™æ“ä½œã€‚åœ¨æœåŠ¡å¯åŠ¨æ—¶ï¼Œè¿™äº›è®°å½•ä¼šè¢«é€æ¡æ‰§è¡Œé‡å»ºåŸæ¥çš„æ•°æ®ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒAOFè¢«ä¼˜å…ˆä½¿ç”¨ï¼‰Redisè‡ªåŠ¨è¿›è¡Œçƒ­æ•°æ®ç¼“å­˜ï¼šæ–¹æ¡ˆä¸€ã€è®¾ç½®ExpiredTimeï¼Œå¦‚æœè®¿é—®é¢‘ç¹çš„æ•°æ®ç”Ÿå­˜æ—¶é—´ä¼šä¸€ç›´æ›´æ–°ï¼Œå†·æ•°æ®å¦‚æœä¸å†æ¬¡è®¿é—®çš„è¯ï¼Œå°±ä¼šåœ¨æŒ‡å®šæ—¶é—´å†…è¿‡æœŸæ¸…é™¤æ‰ï¼Œé—´æ¥å®ç°çƒ­æ•°æ®ç¼“å­˜ã€‚ä¸¤ç§æ–¹å¼å®ç°Redisç¼“å­˜ä¸€ã€å…¨å±€å®ç°Redisç¼“å­˜1ã€å¯¼å…¥ä¾èµ–&lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-data-redis&lt;/artifactId> &lt;/dependency> 2ã€é‡å†™org.apache.ibatis.cache.Cache//ä½¿ç”¨redisTemplateçš„å¯¹åº”æ–¹æ³•é‡å†™Cacheçš„æ–¹æ³• public class RedisCache implements Cache { private static final Logger logger = LoggerFactory.getLogger(RedisCache.class); //å®ä¾‹ä¸€ä¸ªè¯»å†™é” private final ReadWriteLock readWriteLock = new ReentrantReadWriteLock(); private final String id; // cache instance id private RedisTemplate redisTemplate; private static final long EXPIRE_TIME_IN_MINUTES = 30; // redisè¿‡æœŸæ—¶é—´ //å¿…é¡»è¦æœ‰ä¸€ä¸ªåˆå§‹åŒ–idçš„æ„é€ å™¨ public RedisCache(String id) { if (id == null) { throw new IllegalArgumentException("Cache instances require an ID"); } this.id = id; } @Override public String getId() { return id; } /** * Put query result to redis * * @param key * @param value */ @Override @SuppressWarnings("unchecked") public void putObject(Object key, Object value) { try { RedisTemplate redisTemplate = getRedisTemplate(); ValueOperations opsForValue = redisTemplate.opsForValue(); opsForValue.set(key, value, EXPIRE_TIME_IN_MINUTES, TimeUnit.MINUTES); logger.debug("Put query result to redis"); } catch (Throwable t) { logger.error("Redis put failed", t); } } /** * Get cached query result from redis * * @param key * @return */ @Override public Object getObject(Object key) { try { RedisTemplate redisTemplate = getRedisTemplate(); ValueOperations opsForValue = redisTemplate.opsForValue(); logger.debug("Get cached query result from redis"); return opsForValue.get(key); } catch (Throwable t) { logger.error("Redis get failed, fail over to db", t); return null; } } /** * Remove cached query result from redis * * @param key * @return */ @Override @SuppressWarnings("unchecked") public Object removeObject(Object key) { try { RedisTemplate redisTemplate = getRedisTemplate(); redisTemplate.delete(key); logger.debug("Remove cached query result from redis"); } catch (Throwable t) { logger.error("Redis remove failed", t); } return null; } /** * Clears this cache instance */ @Override public void clear() { RedisTemplate redisTemplate = getRedisTemplate(); redisTemplate.execute((RedisCallback) connection -> { connection.flushDb(); return null; }); logger.debug("Clear all the cached query result from redis"); } /** * This method is not used * * @return */ @Override public int getSize() { return 0; } @Override public ReadWriteLock getReadWriteLock() { return readWriteLock; } private RedisTemplate getRedisTemplate() { if (redisTemplate == null) { //è‹¥redisTemplateä¸å­˜åœ¨ï¼Œåˆ™ä»ApplicaitonContextå–å‡ºredisTemplate redisTemplate = SpringContextHolder.getBean("redisTemplate"); } return redisTemplate; } } 3ã€CMSå±‚çœç•¥ä¸æ”¾è¿›æ–‡ç« é‡Œäº†ï¼Œå¼€å§‹æµ‹è¯•ç¬¬ä¸€æ¬¡æ ¹æ®UserNameæŸ¥è¯¢Userå¯ä»¥çœ‹åˆ°Cache Hit Ratio ä¸º0ï¼Œè¯´æ˜åœ¨Redisä¸­æ²¡æœ‰å¯¹åº”çš„ç¼“å­˜ï¼Œæ‰€ä»¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®ã€‚åœ¨RedisDesktopManagerå¯ä»¥çœ‹åˆ°å·²ç»å­˜å…¥ä¸€ä¸ªåºåˆ—åŒ–æ•°æ®ã€‚ç¬¬äºŒæ¬¡æŸ¥è¯¢å°±å¯ä»¥çœ‹åˆ°Cache Hit Ratioä¸º1.0ï¼Œå¹¶ä¸”æ²¡æœ‰æŸ¥è¯¢æ•°æ®åº“çš„æ—¥å¿—æ¶ˆæ¯ï¼Œè¯´æ˜æ­¤æ¬¡æŸ¥è¯¢æ˜¯ä»Redisè·å–çš„æ•°æ®ã€‚äºŒã€ä½¿ç”¨æ³¨è§£æ¥ä½¿ç”¨Redisç¼“å­˜1ã€æ„é€ fastjsonåºåˆ—åŒ–å™¨éœ€è¦å¦å¤–å¯¼å…¥fastjsonä¾èµ–&lt;dependency> &lt;groupId>com.alibaba&lt;/groupId> &lt;artifactId>fastjson&lt;/artifactId> &lt;version>1.2.31&lt;/version> &lt;/dependency> é…ç½®FastJsonRedisSerializerpublic class FastJsonRedisSerializer&lt;T> implements RedisSerializer&lt;T> { private static final Charset DEFAULT_CHARSET = Charset.forName("UTF-8"); private Class&lt;T> clazz; public FastJsonRedisSerializer(Class&lt;T> clazz) { this.clazz = clazz; //fastjson1.2.25ç‰ˆæœ¬ä¹‹åï¼Œéœ€è¦å¼€å¯AutoTypeSupport //å¦åˆ™ä»redisç¼“å­˜ä¸­è¯»å–çš„æ•°æ®ä¼šæŠ¥autoType is not support.é”™è¯¯ã€‚ ParserConfig.getGlobalInstance().setAutoTypeSupport(true); } //é‡å†™åºåˆ—åŒ–æ–¹æ³• @Override public byte[] serialize(T t) throws SerializationException { if (t == null) { return new byte[0]; } return JSON.toJSONString(t, SerializerFeature.WriteClassName).getBytes(DEFAULT_CHARSET); } //é‡å†™ååºåˆ—åŒ–æ–¹æ³• @Override public T deserialize(byte[] bytes) throws SerializationException { if (bytes == null || bytes.length &lt;= 0) { return null; } String str = new String(bytes, DEFAULT_CHARSET); return (T) JSON.parseObject(str, clazz); } } é…ç½®å®Œåºåˆ—åŒ–å™¨åï¼Œå†é…ç½®Redisç¼“å­˜çš„ç›¸å…³é…ç½®ã€‚@Configuration @EnableCaching public class RedisCacheConfig { @Bean public RedisTemplate&lt;Object, Object> redisTemplate(RedisConnectionFactory redisConnectionFactory) { RedisTemplate&lt;Object, Object> template = new RedisTemplate&lt;>(); template.setConnectionFactory(redisConnectionFactory); //å› ä¸ºSpringBootæ•´åˆçš„æœ€æ–°çš„redisä¸­çš„CacheManageræ˜¯æ²¡æœ‰RedisTemplateçš„æ„é€ æ–¹æ³•çš„ã€‚ //æ‰€ä»¥ä¼¼ä¹åœ¨RedisTemplateè®¾ç½®Keyå’ŒValueçš„åºåˆ—å™¨æ˜¯æ— æ•ˆçš„ï¼ˆå®è·µè¿‡ç¡®å®å¦‚æ­¤ï¼‰ //ä½†æ˜¯åœ¨æ­¤è®¾ç½®ä¹‹åï¼Œåœ¨cacheManageré…ç½®æ—¶ä¹Ÿå¯ä»¥ä»redisTemplateä¸­å–å‡ºæ¥ FastJsonRedisSerializer&lt;Object> serializer=new FastJsonRedisSerializer&lt;>(Object.class); template.setValueSerializer(serializer); //ä½¿ç”¨StringRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–redisçš„keyå€¼ template.setKeySerializer(new StringRedisSerializer()); template.afterPropertiesSet(); return template; } /*é…ç½®ç¼“å­˜ç®¡ç†å™¨ *å¦‚æœé…ç½®è‡ªå·±å®šä¹‰çš„åºåˆ—åŒ–å™¨ï¼Œè¦ä¼ RedisTemplateè¿›æ¥ã€‚æˆ–è€…åœ¨é‡Œé¢é‡æ–°å®ä¾‹åºåˆ—åŒ–å™¨ï¼Œè¿™é‡Œä½¿ç”¨å‰è€…çš„æ–¹å¼ */ @Bean public CacheManager cacheManager(RedisConnectionFactory redisConnectionFactory,RedisTemplate redisTemplate) { // ç”Ÿæˆä¸€ä¸ªé»˜è®¤é…ç½®ï¼Œé€šè¿‡configå¯¹è±¡å³å¯å¯¹ç¼“å­˜è¿›è¡Œè‡ªå®šä¹‰é…ç½® // serialzeValuesWithæ–¹æ³•ä¼šé‡æ–°å®ä¾‹åŒ–RedisCacheConfigurationï¼Œæ‰€ä»¥åœ¨ç”Ÿæˆé…ç½®æ—¶ï¼Œä¸èƒ½åˆ†å¼€é…ç½®ï¼Œåªèƒ½è¿›è¡Œé“¾å¼é…ç½® RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig() .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(redisTemplate.getValueSerializer())) .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(redisTemplate.getKeySerializer())); config = config.entryTtl(Duration.ofMinutes(1)) // è®¾ç½®ç¼“å­˜çš„é»˜è®¤è¿‡æœŸæ—¶é—´ï¼Œä¹Ÿæ˜¯ä½¿ç”¨Durationè®¾ç½® .disableCachingNullValues(); // ä¸ç¼“å­˜ç©ºå€¼ // è®¾ç½®ä¸€ä¸ªåˆå§‹åŒ–çš„ç¼“å­˜ç©ºé—´seté›†åˆ Set&lt;String> cacheNames = new HashSet&lt;>(); cacheNames.add("user"); Map&lt;String, RedisCacheConfiguration> configMap = new HashMap&lt;>(); configMap.put("user", config.entryTtl(Duration.ofSeconds(120))); RedisCacheManager cacheManager = RedisCacheManager.builder(redisConnectionFactory) // ä½¿ç”¨è‡ªå®šä¹‰çš„ç¼“å­˜é…ç½®åˆå§‹åŒ–ä¸€ä¸ªcacheManager .initialCacheNames(cacheNames) // æ³¨æ„è¿™ä¸¤å¥çš„è°ƒç”¨é¡ºåºï¼Œä¸€å®šè¦å…ˆè°ƒç”¨è¯¥æ–¹æ³•è®¾ç½®åˆå§‹åŒ–çš„ç¼“å­˜åï¼Œå†åˆå§‹åŒ–ç›¸å…³çš„é…ç½® .withInitialCacheConfigurations(configMap) .build(); return cacheManager; } } ç„¶ååœ¨éœ€è¦ç¼“å­˜çš„åœ°æ–¹åŠ ä¸Š@Cacheableæ³¨è§£å³å¯ï¼Œunlessè¡¨ç¤ºå¦‚æœç»“æœä¸ºç©ºåˆ™ä¸è¿›è¡Œç¼“å­˜@Cacheable(value = "user", key = "#root.targetClass + #name", unless = "#result eq null") è¿›è¡Œæµ‹è¯•æŸ¥è¯¢ï¼Œç¬¬ä¸€æ¬¡ä»ç„¶æ˜¯å»è®¿é—®æ•°æ®åº“ï¼Œç¬¬äºŒæ¬¡æ˜¯ä»redisç¼“å­˜ä¸­æŸ¥åˆ°çš„ã€‚å‚è€ƒèµ„æ–™SpringBoot2æ•´åˆRedisç¼“å­˜RedisæŒä¹…åŒ–_segmentfaultæœ‰æ²¡æœ‰æ–¹æ³•è®©redis è‡ªåŠ¨åšçƒ­æ•°æ®ç¼“å­˜ï¼Ÿ]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>Redis</tag>
        <tag>ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot2.0.4é…ç½®hystrix-dashboardï¼Œå‡ºç°Unable to connect to Command Metric Streamé”™è¯¯]]></title>
    <url>%2Fhystrix_dashboard.html</url>
    <content type="text"><![CDATA[é…ç½®Hystrix-dashboardåè¿›å…¥ç›‘æ§é¡µé¢å‡ºç°Unable to connect to Command Metric Streamã€‚æœ¬æ¥è¿˜ä»¥ä¸ºé…ç½®ç›‘æ§é¢æ¿åº”è¯¥æ˜¯ä»¶æ¯”è¾ƒç®€å•çš„äº‹æƒ…ï¼Œæ²¡æƒ³åˆ°è¢«SpringBootç‰ˆæœ¬å‘äº†ã€‚å½“å‰çš„SpringBootç‰ˆæœ¬ä¸º2.0.4.RELEASEï¼ŒSpringCloudç‰ˆæœ¬ä¸ºFinchley.M9ã€‚æ–°å»ºä¸€ä¸ªhystrix_dashboardæ¨¡å—ï¼Œå¯¼å…¥ç›¸åº”çš„ä¾èµ–spring-cloud-starter-netflix-hystrix-dashboardã€‚åœ¨Mainå¯åŠ¨ç±»ä¸ŠåŠ ä¸Š@EnableHystrixDashboardæ³¨è§£ï¼Œé…ç½®æ–‡ä»¶é…ç½®ä¸€ä¸‹ç«¯å£å’Œåº”ç”¨åå³å¯ã€‚å¹¶ä¸”åœ¨æ¶ˆè´¹æ¨¡å—é…ç½®actuatorä¾èµ–ã€‚è¿™æ—¶æ‰“å¼€dashboardè¾“å…¥URLåå°±æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­ã€‚&nbsp;æ‰¾äº†å¾ˆå¤šè§£å†³æ–¹æ¡ˆï¼Œæ‰å‘ç°æ˜¯actuatorç‰ˆæœ¬é—®é¢˜ã€‚actuatorçš„2.xç‰ˆæœ¬endpointæ˜¯åœ¨/actuatorä¹‹ä¸‹çš„ï¼Œå¹¶ä¸”åªæš´éœ²äº†healthå’Œinfoç«¯ç‚¹ã€‚è¯¦ç»†æ–‡æ¡£ç‚¹æˆ‘ æ‰€ä»¥éœ€è¦ä¸ºæœåŠ¡å®ä¾‹æ·»åŠ hystrix.streamç«¯ç‚¹ã€‚management: endpoints: web: exposure: include: ['hystrix.stream','info','health'] æ­¤æ—¶é‡å¯åå‘ç°æ—¥å¿—è¾“å‡ºRegistered â€˜/actuator/hystrix.streamâ€™ to hystrix.stream-actuator-endpointå†è¾“å…¥http: //localhost:8100/actuator/hystrix.streamå°±å‘ç°å¯ä»¥è¿›è¡Œç›‘æ§äº†ã€‚å¦‚ä¸‹å›¾ï¼š&nbsp;å¦‚æœæƒ³ç›´æ¥é€šè¿‡http: //localhost:8100/hystrix.streamï¼Œåªéœ€è¦é…ç½®ç«¯ç‚¹çš„base-pathå³å¯management: endpoints: web: base-path: / ç†è®ºä¸Šä¿®æ”¹base-pathåº”è¯¥å°±å¯è¡Œäº†çš„ï¼Œä½†æ˜¯åˆå‡ºé”™äº†ã€‚å“ï¼Œåˆä¸çŸ¥é“æ˜¯å“ªé‡Œçš„é—®é¢˜ï¼Œå…ˆç•™ç€å§ï¼è´´ä¸€å¼ hystrix-dashboardç•Œé¢å„éƒ¨åˆ†ä»‹ç»å›¾ï¼š]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
        <tag>æŠ¥é”™</tag>
        <tag>Hystrix-dashboard</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBoot2.0.4é…ç½®Eurekaå‡ºç°Unable to start embedded Tomcaté”™è¯¯]]></title>
    <url>%2Feureka.html</url>
    <content type="text"><![CDATA[å¯¼å…¥ä¾èµ–å®˜ç½‘ç‰ˆæœ¬å¯¹åº”çš„æè¿°ä¸SpringBoot 2.xç‰ˆæœ¬å…¼å®¹çš„SpringCloudç‰ˆæœ¬ä¸ºFinchley2.0.4ç‰ˆæœ¬pomä¾èµ–ä¸ºspring-cloud-starter-netflix-eureka-server(ä»¥åæŸ¥è¯¢æ‰€éœ€ä¾èµ–å»å®˜ç½‘æŸ¥)ä½†æ˜¯å¯¼å…¥ä¾èµ–åé‡åˆ°çš„äº†æ— æ³•å¯åŠ¨å†…ç½®Tomcatçš„é—®é¢˜ï¼Ÿjdkç‰ˆæœ¬é—®é¢˜ï¼Œjaxbçš„ä¾èµ–é—®é¢˜ï¼ŒJAXB APIæ˜¯java EE çš„APIï¼Œå› æ­¤åœ¨java SE 9.0 ä¸­ä¸å†åŒ…å«è¿™ä¸ª Jar åŒ…ã€‚ java 9 ä¸­å¼•å…¥äº†æ¨¡å—çš„æ¦‚å¿µï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒJava SEä¸­å°†ä¸å†åŒ…å«java EE çš„JaråŒ… è€Œåœ¨ java 6/7/8 æ—¶å…³äºè¿™ä¸ªAPI éƒ½æ˜¯æ†ç»‘åœ¨ä¸€èµ·çš„ã€‚æ‰€ä»¥å¯¼å…¥jaxb-coreã€jaxb-apiã€jaxb-implã€activationå››ä¸ªjaråŒ…å³å¯ï¼Œæˆ–è€…å¯¼å…¥jdk8ã€‚æ³¨ï¼šIDEAå†…ç½®çš„jdk8ä¹Ÿä¼šæŠ¥è¿™ä¸ªé”™è¯¯ï¼Œåªèƒ½ä½¿ç”¨è‡ªå·±å¦å¤–å®‰è£…çš„jdk8ã€‚pom.xmlå®Œæ•´æ–‡ä»¶&lt;?xml version="1.0" encoding="UTF-8"?> &lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"> &lt;modelVersion>4.0.0&lt;/modelVersion> &lt;groupId>me.freelee&lt;/groupId> &lt;artifactId>springcloud_eureka&lt;/artifactId> &lt;version>0.0.1-SNAPSHOT&lt;/version> &lt;packaging>jar&lt;/packaging> &lt;name>springcloud_eureka&lt;/name> &lt;description>Demo project for Spring Boot&lt;/description> &lt;parent> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-parent&lt;/artifactId> &lt;version>2.0.4.RELEASE&lt;/version> &lt;relativePath/> &lt;!-- lookup parent from repository --> &lt;/parent> &lt;properties> &lt;project.build.sourceEncoding>UTF-8&lt;/project.build.sourceEncoding> &lt;project.reporting.outputEncoding>UTF-8&lt;/project.reporting.outputEncoding> &lt;java.version>1.8&lt;/java.version> &lt;spring-cloud.version>Finchley.M9&lt;/spring-cloud.version> &lt;/properties> &lt;dependencies> &lt;dependency> &lt;groupId>com.sun.xml.bind&lt;/groupId> &lt;artifactId>jaxb-core&lt;/artifactId> &lt;version>2.2.11&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>javax.xml.bind&lt;/groupId> &lt;artifactId>jaxb-api&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>com.sun.xml.bind&lt;/groupId> &lt;artifactId>jaxb-impl&lt;/artifactId> &lt;version>2.2.11&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.glassfish.jaxb&lt;/groupId> &lt;artifactId>jaxb-runtime&lt;/artifactId> &lt;version>2.2.10-b140310.1920&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>javax.activation&lt;/groupId> &lt;artifactId>activation&lt;/artifactId> &lt;version>1.1.1&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-eureka-server&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;/dependencies> &lt;dependencyManagement> &lt;dependencies> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-dependencies&lt;/artifactId> &lt;version>${spring-cloud.version}&lt;/version> &lt;type>pom&lt;/type> &lt;scope>import&lt;/scope> &lt;/dependency> &lt;/dependencies> &lt;/dependencyManagement> &lt;repositories> &lt;repository> &lt;id>spring-milestones&lt;/id> &lt;name>Spring Milestones&lt;/name> &lt;url>https://repo.spring.io/libs-milestone&lt;/url> &lt;snapshots> &lt;enabled>false&lt;/enabled> &lt;/snapshots> &lt;/repository> &lt;/repositories> &lt;build> &lt;plugins> &lt;plugin> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-maven-plugin&lt;/artifactId> &lt;/plugin> &lt;/plugins> &lt;/build> &lt;/project> &nbsp;å‚è€ƒèµ„æ–™:è§£å†³æ–¹æ¡ˆè§£å†³æ–¹æ¡ˆä¸­æ–‡]]></content>
      <categories>
        <category>SpringCloud</category>
      </categories>
      <tags>
        <tag>SpringCloud</tag>
        <tag>Eureka</tag>
        <tag>æŠ¥é”™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dockerå­¦ä¹ ç¬”è®°]]></title>
    <url>%2Fdocker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</url>
    <content type="text"><![CDATA[Dockerä¸è™šæ‹ŸæœºDockeræ˜¯Client-Serverç»“æ„ã€‚è™šæ‹ŸæœºæŠ€æœ¯é€šè¿‡Hypervisorå±‚æŠ½è±¡åº•å±‚åŸºç¡€è®¾æ–½èµ„æºï¼Œæä¾›ç›¸äº’éš”ç¦»çš„è™šæ‹Ÿæœºï¼Œé€šè¿‡ç»Ÿä¸€é…ç½®ã€ç»Ÿä¸€ç®¡ç†ï¼Œè®¡ç®—èµ„æºçš„å¯è¿ç»´æ€§ï¼Œä»¥åŠèµ„æºåˆ©ç”¨ç‡éƒ½èƒ½å¤Ÿå¾—åˆ°æœ‰æ•ˆçš„æå‡ã€‚åŒæ—¶ï¼Œè™šæ‹Ÿæœºæä¾›å®¢æˆ·æœºæ“ä½œç³»ç»Ÿï¼Œå®¢æˆ·æœºå˜åŒ–ä¸ä¼šå½±å“å®¿ä¸»æœºï¼Œèƒ½å¤Ÿæä¾›å¯æ§çš„æµ‹è¯•ç¯å¢ƒï¼Œæ›´èƒ½å¤Ÿå±è”½åº•å±‚ç¡¬ä»¶ç”šè‡³åŸºç¡€è½¯ä»¶çš„å·®å¼‚æ€§ï¼Œè®©åº”ç”¨åšåˆ°çš„å¹¿æ³›å…¼å®¹ã€‚ç„¶è€Œï¼Œå†ç‰›é€¼çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œéƒ½ä¸å¯é¿å…åœ°å‡ºç°è®¡ç®—ã€IOã€ç½‘ç»œæ€§èƒ½æŸå¤±ï¼Œæ¯•ç«Ÿå¤šäº†ä¸€å±‚è½¯ä»¶ï¼Œæ¯•ç«Ÿè¦è¿è¡Œä¸€ä¸ªå®Œæ•´çš„å®¢æˆ·æœºæ“ä½œç³»ç»Ÿã€‚å®¹å™¨æŠ€æœ¯ä¸¥æ ¼æ¥è¯´å¹¶ä¸æ˜¯è™šæ‹ŸåŒ–ï¼Œæ²¡æœ‰å®¢æˆ·æœºæ“ä½œç³»ç»Ÿï¼Œæ˜¯å…±äº«å†…æ ¸çš„ã€‚å®¹å™¨å¯ä»¥è§†ä¸ºè½¯ä»¶ä¾›åº”é“¾çš„é›†è£…ç®±ï¼Œèƒ½å¤ŸæŠŠåº”ç”¨éœ€è¦çš„è¿è¡Œç¯å¢ƒã€ç¼“å­˜ç¯å¢ƒã€æ•°æ®åº“ç¯å¢ƒç­‰ç­‰å°è£…èµ·æ¥ï¼Œä»¥æœ€ç®€æ´çš„æ–¹å¼æ”¯æŒåº”ç”¨è¿è¡Œï¼Œè½»è£…ä¸Šé˜µï¼Œå½“ç„¶æ˜¯æ€§èƒ½æ›´ä½³ã€‚Dockeré•œåƒç‰¹æ€§åˆ™è®©è¿™ç§æ–¹å¼ç®€å•æ˜“è¡Œã€‚å½“ç„¶ï¼Œå› ä¸ºå…±äº«å†…æ ¸ï¼Œå®¹å™¨éš”ç¦»æ€§ä¹Ÿæ²¡æœ‰è™šæ‹Ÿæœºé‚£ä¹ˆå¥½ã€‚æœåŠ¡å™¨è™šæ‹ŸåŒ–è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯èµ„æºè°ƒé…ï¼Œè€Œå®¹å™¨è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯åº”ç”¨å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²ã€‚é•œåƒå‘½ä»¤docker info æŸ¥çœ‹dockerä¿¡æ¯è¯¦æƒ…docker images åˆ—å‡ºæœ¬åœ°é•œåƒï¼ŒåŒä¸€ä»“åº“æºå¯ä»¥æœ‰å¤šä¸ªTagï¼ˆç‰ˆæœ¬ï¼‰ï¼Œä½¿ç”¨Repositoryï¼šTagé€‰æ‹©ä¸åŒç‰ˆæœ¬&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€“no-trunc å…¨éƒ¨ä¿¡æ¯docker rmi é•œåƒå åˆ é™¤é•œåƒ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-f å¼ºåˆ¶åˆ é™¤Docker history é•œåƒå åˆ—å‡ºé•œåƒçš„å˜æ›´å†å²å®¹å™¨å‘½ä»¤docker run [OPTIONS] image [COMMAND] æ–°å»ºå¹¶å¯åŠ¨å®¹å™¨&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONSï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€“name=â€œNew Nameâ€ æŒ‡å®šå®¹å™¨æ–°åå­—&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-d åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-i ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸-tä½¿ç”¨ï¼ˆ-itï¼‰&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-t ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªè¾“å…¥ç»ˆç«¯&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-P éšæœºåˆ†é…ç«¯å£æ˜ å°„&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-p æŒ‡å®šç«¯å£æ˜ å°„ï¼ˆä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£ï¼‰docker ps [OPTIONS] åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-a åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„ + å†å²è¿è¡Œè¿‡çš„&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-q é™é»˜æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå®¹å™¨ç¼–å·docker start/restart/stop å®¹å™¨å/å®¹å™¨ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kill å¼ºåˆ¶åˆ é™¤&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm å®¹å™¨ID åˆ é™¤å·²åœæ­¢å®¹å™¨&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rm -f $(docker ps -a -q) åˆ é™¤æ‰€æœ‰å®¹å™¨&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rmi é•œåƒådocker logs -f -t â€“tail å®¹å™¨ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-f è·Ÿéšæœ€æ–°çš„æ—¥å¿—æ‰“å°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€“tail æ•°å­— æ˜¾ç¤ºæœ€åæŒ‡å®šçš„æ¡æ•°docker top å®¹å™¨ID æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹docker inspect å®¹å™¨ID æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚exit åœæ­¢å¹¶é€€å‡ºå®¹å™¨Ctrl+P+Q ä¸åœæ­¢é€€å‡ºå®¹å™¨docker attach ID è¿›å…¥å®¹å™¨ï¼Œä¸æ–°å»ºè¿›ç¨‹docker exec -t ID ls -l /tmp /bin/bash ç›´æ¥æ‰“å°è¿”å›ç»“æœdocker cp å®¹å™¨IDï¼šå®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„ æŠŠæ–‡ä»¶ä»å®¹å™¨æ‹·è´åˆ°ä¸»æœºdocker commit -m=â€æè¿°â€ -a=â€ä½œè€…â€ å®¹å™¨ID æ–°é•œåƒå:[æ ‡ç­¾å] æäº¤ä¿®æ”¹åå®¹å™¨ç”Ÿæˆæ–°çš„é•œåƒDockerå®¹å™¨æ•°æ®å·å®¹å™¨çš„æŒä¹…åŒ–ã€å®¹å™¨é—´ç»§æ‰¿+å…±äº«æ•°æ®æ•°æ®å·ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®¹å™¨å†…æ·»åŠ ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›´æ¥æ·»åŠ ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;docker run -it -v /å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•ï¼š/å®¹å™¨å†…ç›®å½• é•œåƒå&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®¹å™¨åœæ­¢é€€å‡ºåï¼Œä¸»æœºä¿®æ”¹æ•°æ®å¯ä»¥åŒæ­¥&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒé™ï¼šdocker run -it -v /å®¿ä¸»æœºç»å¯¹è·¯å¾„ç›®å½•ï¼š/å®¹å™¨å†…ç›®å½•ï¼šro é•œåƒå æ•°æ®åªè¯»&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dockerfileæ·»åŠ ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1ï¼‰ç¼–å†™Dockerfileæ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2ï¼‰docker build -f ç›®å½•/Dockerfile -t freelee/é•œåƒå æ„å»ºé•œåƒ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3ï¼‰Dockerä¼šé»˜è®¤æŒ‡å®šä¸»æœºæ•°æ®å·åœ°å€ï¼ˆå¯é€šè¿‡inspectå‘½ä»¤æŸ¥çœ‹ï¼‰æ•°æ®å·å®¹å™¨ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æŒ‚è½½æ•°æ®å·çš„å®¹å™¨ï¼Œå…¶ä»–å®¹å™¨é€šè¿‡æŒ‚è½½è¿™ä¸ªï¼ˆçˆ¶å®¹å™¨ï¼‰å®ç°æ•°æ®å…±äº«ã€‚&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®¹å™¨é—´ä¼ é€’å…±äº«ï¼šdocker run -it â€“name dc02 â€“volumes-from dc01 freelee/centos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ é™¤çˆ¶å®¹å™¨åï¼ŒåŸæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚å­å®¹å™¨ä¾æ—§å¯ä»¥å…±äº«æ•°æ®ï¼Œæ•°æ®å·ç”Ÿå‘½å‘¨æœŸä¸€ç›´åˆ°æ²¡æœ‰å®¹å™¨ä½¿ç”¨å®ƒä¸ºæ­¢DockerfileDockerfileæ˜¯ç”¨æ¥æ„å»ºDockeré•œåƒçš„æ„å»ºæ–‡ä»¶&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1ï¼‰æ¯æ¡æŒ‡ä»¤ä¿ç•™å­—å¿…é¡»å¤§å†™ä¸”åè·Ÿå‚æ•°&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2ï¼‰ä»ä¸Šåˆ°ä¸‹ï¼Œé¡ºåºæ‰§è¡Œ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3ï¼‰æ¯æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶å¯¹é•œåƒè¿›è¡Œæäº¤æŒ‡ä»¤ï¼š&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM åŸºç¡€é•œåƒ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAINTER ä½œè€…å’Œé‚®ç®±&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RUN æ„å»ºæ—¶éœ€è¦æ‰§è¡Œçš„å‘½ä»¤&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EXPOSE æš´éœ²çš„ç«¯å£å·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WORKDIR å·¥ä½œç›®å½•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ENV æ„å»ºè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ADD å°†å®¿ä¸»æœºç›®å½•ä¸‹æ–‡ä»¶æ‹·è´è¿›é•œåƒä¸”ADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹taråŒ…&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VOLUMN å®¹å™¨æ•°æ®å·&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CMD å®¹å™¨è¿è¡Œæ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œæœ€åä¸€ä¸ªå‘½ä»¤ä¼šè¦†ç›–å‰é¢&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ENTRYPOINT å®¹å™¨è¿è¡Œæ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œåé¢çš„å‘½ä»¤ä¼šå åŠ åœ¨åé¢&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ONBUILD ç»§æ‰¿æ­¤é•œåƒçš„å­é•œåƒåœ¨æ„å»ºæ—¶ä¼šè§¦å‘Dockerfileæ¡ˆä¾‹æ¡ˆä¾‹ä¸€ï¼šåŸå§‹centosè¿›å…¥é•œåƒé»˜è®¤è·¯å¾„ä¸º / ï¼Œä¸”ä¸æ”¯æŒvimç¼–è¾‘å™¨å’ŒæŸ¥çœ‹ç½‘ç»œé…ç½®ifconfigFROM centos ENV mypath /tmp WORKDIR $mypath RUN yum -y install vim RUN yum -y install net-tools EXPOSE 80 CMD /bin/bash æ¡ˆä¾‹äºŒï¼šONBUILDæŒ‡ä»¤FROM centos RUN yum install -y curl ENTRYPOINT ["curl","-s","http://ip.cn"] ONBUILD RUN echo "father image onbuild......" &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çŸ¥ä¹ä¸Šç½‘æ˜“äº‘å…³äºDockerå’Œè™šæ‹Ÿæœºçš„å›ç­”]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>å­¦ä¹ ç¬”è®°</tag>
        <tag>Dockerfile</tag>
        <tag>å®¹å™¨æ•°æ®å·</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºç½‘ç»œå­¦ä¹ è®°å½•]]></title>
    <url>%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.html</url>
    <content type="text"><![CDATA[å¤§äºŒä¸‹å­¦æœŸå¼€è¿‡è¿™é—¨è¯¾ï¼Œå½“æ—¶å› ä¸ºè¯¾æ—¶åŸå› å¤§æ¦‚åªè®²åˆ°DNSï¼Œè€Œä¸”å¾ˆå¤šéƒ½å¿˜äº†ï¼Œç°åœ¨å†å¤ä¹ ä¸€éä»¥æ­¤è®°å½•ã€‚è¯¾ç¨‹å­¦ä¹ è§†é¢‘ï¼šå“ˆå°”æ»¨å·¥ä¸šå¤§å­¦ è®¡ç®—æœºç½‘ç»œè¯¾ç¨‹è§†é¢‘å‚è€ƒä¹¦ç±ï¼šã€Šè®¡ç®—æœºç½‘ç»œã€‹ï¼ˆç¬¬ä¸ƒç‰ˆï¼‰ç‰©ç†å±‚ä¿¡é“å¤ç”¨æŠ€æœ¯ï¼ˆ2018.09.21ï¼‰ä¸ºä»€ä¹ˆæœ‰ä¿¡é“å¤ç”¨æŠ€æœ¯ï¼Ÿä¼ ç»Ÿä¿¡æ¯ä¼ è¾“æ˜¯å•å¯¹å•è¿›è¡Œçš„ï¼Œå¦‚æœç”¨æˆ·ä¸ä½¿ç”¨çš„è¯å°±ä¼šç©ºé—²ï¼Œä¿¡é“åˆ©ç”¨ç‡å°†ä¼šå¾ˆä½ã€‚å› æ­¤æå‡ºäº†å¤ç”¨æ¦‚å¿µï¼Œä½†æ˜¯è¿™é‡Œåˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¤šä¸ªç”¨æˆ·å¦‚æœåŒæ—¶ä½¿ç”¨ï¼Œä¿¡é“çš„ä¼ è¾“çš„ä¿¡æ¯å²‚ä¸æ˜¯ä¹±äº†å¥—ï¼Ÿï¼æ¥ç€æœ‰äº†ä»¥ä¸‹å‡ ç§ä¸»è¦å¤ç”¨æŠ€æœ¯ã€‚é¢‘åˆ†å¤ç”¨ï¼šç”¨æˆ·åˆ†é…åˆ°ä¸€å®šçš„é¢‘å¸¦ï¼Œä¸åŒçš„ç”¨æˆ·å†ä¸ç”¨çš„é¢‘å¸¦ä¸Šè¿›è¡Œä¼ è¾“æ—¶ä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œå¸¸è§åº”ç”¨å°±æ˜¯æœ‰çº¿ç”µè§†ï¼Œé¥æ§æ¿å…¶å®å°±æ˜¯è°ƒé¢‘æ¥æ¢å°ã€‚æ³¢åˆ†å¤ç”¨ï¼šè·Ÿé¢‘åˆ†å¤ç”¨ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯åœ¨å…‰æ³¢ä¸­è¿›è¡Œä¸åŒçš„æ³¢é•¿ä¼ è¾“ï¼ˆä¹Ÿå°±æ˜¯ä¸åŒçš„é¢‘ç‡ï¼‰ã€‚æ—¶åˆ†å¤ç”¨ï¼šå°†æ—¶é—´åˆ†ç‰‡ï¼Œç”¨æˆ·åˆ†é…åˆ°ä¸åŒçš„æ—¶é—´ç‰‡è¿›è¡Œä¼ è¾“ã€‚ç åˆ†å¤ç”¨ï¼šç åˆ†å¤ç”¨æ¯”è¾ƒå¤æ‚ä¸€ç‚¹ï¼Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹å®ç°åŸç†ã€‚å®šä¹‰ï¼šâ€œç åˆ†å¤ç”¨æ˜¯ç”¨ä¸€ç»„åŒ…å«äº’ç›¸æ­£äº¤çš„ç å­—çš„ç ç»„æºå¸¦å¤šè·¯ä¿¡å·â€ä¸åŒçš„ç«™åˆ†é…åˆ°ä¸åŒçš„å”¯ä¸€çš„m bitçš„ç ç‰‡åºåˆ—ï¼Œä¸”é¡»ç›¸äº’æ­£äº¤ï¼Œè¿™æ ·æ‰èƒ½æŠµæŠ—å¹²æ‰°ã€‚$$å†…ç§¯å…¬å¼ï¼š SÂ·T=\frac {1}{m} \sum_{i=1}^m S_iT_i=0$$ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾æœ‰ä¸¤ä¸ªç«™Så’ŒTï¼Œè®¾ç«™Sçš„ç ç‰‡åºåˆ—ä¸ºï¼ˆ-1 -1 -1 +1 +1 -1 +1 +1ï¼‰ï¼Œç«™Tçš„ç ç‰‡åºåˆ—ä¸ºï¼ˆ-1 -1 +1 -1 +1 +1 +1 -1ï¼‰ï¼Œå†…ç§¯è®¡ç®—å¯å¾—è¿™ä¸¤ä¸ªç ç‰‡åºåˆ—ç»“æœä¸º0ã€‚æ³¨ï¼šç„¶åæˆ‘ä»¬é€šå¸¸æŒ‡å®šä¼ è¾“æ¯”ç‰¹1å°±æ˜¯1ï¼Œå‘é€æ¯”ç‰¹0æ—¶ä¸º-1ï¼ˆè¿ç”¨äº†æ­£äº¤çš„ç‰¹æ€§ï¼‰ã€‚å‡è®¾Sç«™å‘é€äº†æ•°æ®æ˜¯1å³ï¼ˆ-1 -1 -1 +1 +1 -1 +1 +1ï¼‰ï¼ŒTå‘é€çš„æ•°æ®ä¹Ÿæ˜¯1å³ï¼ˆ-1 -1 +1 -1 +1 +1 +1 -1ï¼‰ã€‚å åŠ åå°±æ˜¯ï¼ˆ-1 -1 -1 +1 +1 -1 +1 +1ï¼‰+ï¼ˆ-1 -1 +1 -1 +1 +1 +1 -1ï¼‰æ¥æ”¶æ–¹å¦‚æœæ˜¯ä½¿ç”¨Sç«™çš„ç ç‰‡åºåˆ—ï¼Œé‚£ä¹ˆç»è¿‡ä»¥ä¸‹è®¡ç®—ï¼šï¼ˆ-1 -1 -1 +1 +1 -1 +1 +1ï¼‰Â·ï¼ˆï¼ˆ-1 -1 -1 +1 +1 -1 +1 +1ï¼‰+ï¼ˆ-1 -1 +1 -1 +1 +1 +1 -1ï¼‰ï¼‰=1+0=1ï¼Œå°±æ˜¯Så‘é€çš„æ•°æ®ã€‚å› ä¸ºTç«™å’ŒSç«™ç ç‰‡åºåˆ—æ­£äº¤ï¼Œæ‰€ä»¥ä½¿ç”¨Tå‘é€çš„æ•°æ®ä¸ç®¡å’ŒSå‘é€çš„æ•°æ®å¦‚æœå åŠ ï¼Œå…¶å†…ç§¯ç»“æœéƒ½æ˜¯0ã€‚è¿™æ ·å°±æ˜¯å®ç°ä¸åŒç”¨æˆ·ä¹‹é—´çš„ä¿¡å·ä¸æ··ä¹±ã€‚åº”ç”¨å±‚è¶…æ–‡æœ¬ä¼ é€åè®®HTTPï¼ˆ2018.09.23ï¼‰å®šä¹‰HTTPåè®®å®šä¹‰äº†æµè§ˆå™¨å¦‚ä½•å‘ä¸‡ç»´ç½‘æœåŠ¡å™¨è¯·æ±‚ä¸‡ç»´ç½‘æ–‡æ¡£ï¼Œä»¥åŠæœåŠ¡å™¨å¦‚ä½•æŠŠæ–‡æ¡£ä¼ é€ç»™æµè§ˆå™¨ã€‚æ˜¯åº”ç”¨å±‚çš„ä¸€ä¸ªåè®®ä½¿ç”¨äº†TCPåè®®æ¥ä¿è¯æ•°æ®çš„å¯é ä¼ è¾“ï¼Œæ¯«æ— ç–‘é—®å®ƒæ˜¯äº’è”ç½‘é€šä¿¡çš„åŸºç¡€ã€‚å·¥ä½œè¿‡ç¨‹ä¸€å¼€å§‹ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€TCPè¿æ¥çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯é»˜è®¤åœ¨80ç«¯å£ç›‘å¬å®¢æˆ·ç«¯å»ºç«‹TCPè¿æ¥è¯·æ±‚ã€‚åœ¨ä¸æœåŠ¡å™¨å»ºç«‹å¥½TCPè¿æ¥åï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯è¯·æ±‚èµ„æºï¼Œå‘é€HTTPè¯·æ±‚æŠ¥æ–‡ï¼ŒæœåŠ¡å™¨ç«¯æ”¶åˆ°è¯·æ±‚æŠ¥æ–‡åï¼Œå°†è¯·æ±‚å†…å®¹å“åº”ç»™å®¢æˆ·ç«¯ã€‚å®Œæˆè¯·æ±‚åï¼ŒTCPçš„è¿æ¥å°±è¢«é‡Šæ”¾ä»¥ä¾›å…¶ä»–çš„è¯·æ±‚ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡å™¨æ˜¯å¦‚ä½•â€œç†è§£â€å®¢æˆ·ç«¯çš„è¯·æ±‚çš„ï¼Œå¹¶ä¸”æ˜¯å¦‚ä½•å“åº”ç»™å®¢æˆ·ç«¯çš„å‘¢ï¼Ÿè¿™å°±æ˜¯httpåè®®è¦å¹²çš„äº‹æƒ…ï¼Œç®€å•æ¥è¯´httpåè®®è§„å®šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¦‚ä½•è¿›è¡Œäº¤äº’ã€‚ç‰¹æ€§httpåè®®æ˜¯==æ— çŠ¶æ€==çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç®¡å®¢æˆ·ç«¯ä¹‹å‰æ˜¯å¦è®¿é—®è¿‡æœåŠ¡å™¨æŸä¸€é¡µé¢æˆ–èµ„æºï¼Œæ¯ä¸€æ¬¡çš„è®¿é—®éƒ½ä¸ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ç›¸åŒã€‚è¿™ä¹ˆè®¾ç½®æœ‰å¥½æœ‰åï¼Œå¥½å¤„æ˜¯æœåŠ¡å™¨ä¸éœ€è¦å»è®°å½•å’Œç»´æŠ¤å®¢æˆ·ç«¯çš„çŠ¶æ€ï¼Œèƒ½æ”¯æŒé«˜å¹¶å‘çš„è¯·æ±‚ã€‚åå¤„æ˜¯è¿™æ ·ç®€å•çš„è®¾è®¡åœ¨ä¸€äº›åœºæ™¯å°±æ˜¾å¾—ååˆ†ä¸è¶³ï¼Œæ¯”å¦‚è´­ç‰©,å½“æœåŠ¡å™¨æ— æ³•è®°å½•çš„ä¹‹å‰çš„çŠ¶æ€æ—¶ï¼Œé‚£ä½ çš„è´­ç‰©è½¦çš„å•†å“å°±æ— æ³•ä¿å­˜ä¸‹æ¥ï¼Œæ¯ä¸€æ¬¡æ‰“å¼€é¡µé¢è´­ç‰©è½¦éƒ½æ˜¯ç©ºçš„ï¼Œè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨cookieæ¥ä¿å­˜çŠ¶æ€ã€‚httpåè®®æ˜¯==æ— è¿æ¥==çš„ï¼Œæ¯æ¬¡è¿æ¥åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ã€‚æœåŠ¡å™¨å¤„ç†å®Œå®¢æˆ·çš„è¯·æ±‚ï¼Œå¹¶æ”¶åˆ°å®¢æˆ·çš„åº”ç­”åï¼Œå³æ–­å¼€è¿æ¥ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼å¯ä»¥èŠ‚çœä¼ è¾“æ—¶é—´ï¼Œä½†æ˜¯ç°åœ¨çš„ç½‘é¡µæ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œå¦‚æœæ¯æ¬¡åªå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå•å•å°±è¿æ¥å»ºç«‹é‡Šæ”¾å°±ä¼šæµªè´¹å¾ˆå¤šæ—¶é—´å’Œèµ„æºï¼Œæ‰€ä»¥åæ¥å‡ºç°çš„é•¿è¿æ¥æ–¹å¼æ¯”è¾ƒå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚æŠ¥æ–‡ç»“æ„è¯·æ±‚æŠ¥æ–‡ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€çš„è¯·æ±‚æŠ¥æ–‡å“åº”æŠ¥æ–‡ï¼šæœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯çš„å›ç­”ã€‚è¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡æ˜¯ç”±ä¸‰éƒ¨åˆ†ç»„æˆçš„ã€‚è¯·æ±‚æŠ¥æ–‡ï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´éƒ¨ã€è¯·æ±‚ä½“1ã€è¯·æ±‚è¡ŒåŒ…å«äº†è¯·æ±‚çš„ç±»å‹ï¼Œè¯·æ±‚èµ„æºçš„è·¯å¾„å’Œhttpåè®®ç‰ˆæœ¬ä¿¡æ¯è¯·æ±‚ç±»å‹ï¼šä¸‹è¡¨åˆ—ä¸¾äº†ä¸‰ç§å¸¸ç”¨çš„è¯·æ±‚ç±»å‹ç±»å‹å«ä¹‰GETè¯·æ±‚è¯»å–URLæ‰€æ ‡å¿—çš„ä¿¡æ¯POSTç»™æœåŠ¡å™¨æ·»åŠ ä¿¡æ¯HEADè¯·æ±‚è¯»å–ç”±URLæ‰€æ ‡å¿—çš„ä¿¡æ¯çš„å¤´éƒ¨GETè¯·æ±‚æ˜¯æœ€å¸¸ç”¨çš„è¯·æ±‚ç±»å‹ï¼Œå½“å‘æœåŠ¡å™¨è¯·æ±‚èµ„æºæ—¶é€šè¿‡URLæ¥å®šä½ï¼Œæ¯”å¦‚https://www.zhihu.com/search?type=content&amp;q=%E8%AE%A1%E7%AE%97%E6%9C%BA ä¸‰ç§è¯·æ±‚ç±»å‹åº”ç”¨åœºæ™¯ï¼šè¯·æ±‚çŸ¥ä¹æœåŠ¡å™¨é‡Œçš„searché¡µé¢çš„èµ„æºã€‚ä½†æ˜¯æ¶‰åŠä¸€äº›ç™»å½•æ³¨å†Œæ—¶çš„ç›¸å…³ä¿¡æ¯æäº¤æ—¶ï¼Œè¿™ç§è¯·æ±‚ç±»å‹ä¸å®‰å…¨ã€‚POSTè¯·æ±‚å¯ä»¥å°†è¯·æ±‚çš„ä¿¡æ¯å°è£…åœ¨è¯·æ±‚æ•°æ®ä¸­ï¼ˆGETè¯·æ±‚çš„è¯·æ±‚æ•°æ®éƒ¨åˆ†é€šå¸¸ä¸ºç©ºï¼‰ï¼Œä¸ä¼šåœ¨URLæš´éœ²ç»™ç”¨æˆ·ã€‚å½“åªéœ€è¦æŸ¥çœ‹é¡µé¢çš„çŠ¶æ€æ—¶ï¼Œä½¿ç”¨HEADè¯·æ±‚æ•ˆç‡ä¼šå¾ˆé«˜ï¼Œå› ä¸ºå®ƒåªè¿”å›å“åº”å¤´ï¼Œè€Œä¸è¿”å›é¡µé¢çš„å†…å®¹ã€‚æ³¨ï¼šURIï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼ŒURLï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚URIåŒ…æ‹¬URLå’ŒURNã€‚ç®€å•æ¥è¯´ï¼ŒURIæ˜¯é€šè¿‡æŸä¸€è§„åˆ™æ¥å”¯ä¸€ç¡®å®šæŸä¸€èµ„æºï¼ŒURLæ˜¯é€šè¿‡å®šä½ï¼ˆæ¯”å¦‚ä¸»æœºä¸Šèµ„æºçš„è·¯å¾„ï¼‰æ¥å”¯ä¸€ç¡®å®šæŸä¸€èµ„æºã€‚å®šä½å°±å¯ä»¥è¿‘ä¼¼çœ‹åšURIçš„æŸä¸€è§„åˆ™ä¸­çš„ä¸€ç§ã€‚2ã€è¯·æ±‚å¤´éƒ¨æœ‰å¾ˆå¤šå±æ€§ï¼ˆé”®å€¼å¯¹ï¼‰ç»„æˆã€‚å¸¸è§çš„æœ‰Hostï¼ˆä¸»æœºåŸŸåï¼‰ã€User-Agentï¼ˆæµè§ˆå™¨ä¿¡æ¯ï¼‰ã€Accept-Languageï¼ˆè¿”å›å†…å®¹ä½¿ç”¨çš„è¯­è¨€ï¼‰ã€Connectionï¼ˆå†³å®šæ‰§è¡Œå½“å‰çš„äº‹åŠ¡åæ˜¯å¦å…³é—­è¿æ¥ï¼‰è·å–æ›´å¤šè¯·æ±‚å­—æ®µä¿¡æ¯3ã€è¯·æ±‚æ•°æ®è¯·æ±‚æŠ¥æ–‡é‡Œå¾ˆå°‘ä½¿ç”¨åˆ°è¿™ä¸ªå­—æ®µï¼ŒPOSTè¯·æ±‚å¯èƒ½ä¼šå¸¸ç”¨åˆ°ã€‚åœ¨å“åº”æŠ¥æ–‡é‡Œç»å¸¸ç”¨åˆ°æ­¤å­—æ®µæ¥è¿”å›é¡µé¢å†…å®¹ã€‚å“åº”æŠ¥æ–‡ï¼šçŠ¶æ€è¡Œã€å“åº”å¤´ã€å“åº”æ­£æ–‡1ã€çŠ¶æ€è¡Œé€šè¿‡çŠ¶æ€ç è¿”å›è®¿é—®çš„çŠ¶æ€ã€‚çŠ¶æ€ç çŠ¶æ€ä¿¡æ¯1XXä»£è¡¨è¯·æ±‚å·²è¢«æ¥å—ï¼Œéœ€è¦ç»§ç»­å¤„ç†2XXä»£è¡¨è¯·æ±‚å·²æˆåŠŸè¢«æœåŠ¡å™¨æ¥æ”¶ã€ç†è§£ã€å¹¶æ¥å—3XXä»£è¡¨éœ€è¦å®¢æˆ·ç«¯é‡‡å–è¿›ä¸€æ­¥çš„æ“ä½œæ‰èƒ½å®Œæˆè¯·æ±‚ã€‚é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ç ç”¨æ¥é‡å®šå‘ï¼Œåç»­çš„è¯·æ±‚åœ°å€ï¼ˆé‡å®šå‘ç›®æ ‡ï¼‰åœ¨æœ¬æ¬¡å“åº”çš„LocationåŸŸä¸­æŒ‡æ˜4XXä»£è¡¨äº†å®¢æˆ·ç«¯çœ‹èµ·æ¥å¯èƒ½å‘ç”Ÿäº†é”™è¯¯ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†5XXè¡¨ç¤ºæœåŠ¡å™¨æ— æ³•å®Œæˆæ˜æ˜¾æœ‰æ•ˆçš„è¯·æ±‚ã€‚è¿™ç±»çŠ¶æ€ç ä»£è¡¨äº†æœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­æœ‰é”™è¯¯æˆ–è€…å¼‚å¸¸çŠ¶æ€å‘ç”Ÿï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æœåŠ¡å™¨æ„è¯†åˆ°ä»¥å½“å‰çš„è½¯ç¡¬ä»¶èµ„æºæ— æ³•å®Œæˆå¯¹è¯·æ±‚çš„å¤„ç†è·å–æ›´å¤šè¯¦ç»†çŠ¶æ€ç ä¿¡æ¯2ã€å“åº”å¤´ä¹Ÿæ˜¯ç”±å¾ˆå¤šå­—æ®µç»„æˆï¼ˆé”®å€¼å¯¹ï¼‰ã€‚å¸¸è§çš„æœ‰content-lengthï¼ˆä»¥å…«ä½å­—èŠ‚æ•°ç»„è¡¨ç¤ºçš„è¯·æ±‚ä½“çš„é•¿åº¦ï¼‰ã€content-typeï¼ˆè¯·æ±‚ä½“çš„ å¤šåª’ä½“ç±»å‹ ç”¨äºPOSTå’ŒPUTè¯·æ±‚ä¸­ï¼‰ã€date(å‘é€è¯¥æ¶ˆæ¯çš„æ—¥æœŸå’Œæ—¶é—´)â€¦â€¦è·å–æ›´å¤šè¯·æ±‚å­—æ®µä¿¡æ¯3ã€å“åº”æ­£æ–‡æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯æ‰€è¯·æ±‚çš„å†…å®¹ã€‚å¦‚ï¼šè¿æ¥å»ºç«‹æ–¹å¼éæŒç»­è¿æ¥ï¼šåœ¨http1.0ç‰ˆæœ¬ï¼Œå¯¹äºé¡µé¢ä¸Šçš„æ¯ä¸€ä¸ªé“¾æ¥çš„è¯·æ±‚éƒ½éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªTCPè¿æ¥ï¼Œä¸ä»…ä»…æ˜¯åœ¨æ—¶é—´ä¸Šå»¶é•¿å¾ˆå¤šï¼Œå¹¶ä¸”åœ¨æœåŠ¡å™¨æ¯æ¬¡å»ºç«‹è¿æ¥éƒ½è¦åˆ†é…ç¼“å­˜å’Œå˜é‡ï¼Œåœ¨è¯·æ±‚å¾ˆå¤§çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨çš„å‹åŠ›ä¼šéå¸¸çš„é‡ã€‚æŒç»­è¿æ¥ï¼šåœ¨http1.1ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨äº†æŒç»­è¿æ¥ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯å‘é€è¯·æ±‚æœåŠ¡å™¨å“åº”åä»ç„¶å¯ä»¥ä¿æŒè¿™æ¡è¿æ¥ï¼Œåœ¨è¯·æ±‚å¤´ä¸­ä¼šå¸¦ä¸Šconnectionï¼škeep-aliveçš„å­—æ®µã€‚è¿™ä¹ˆä¸€æ¥åœ¨æ—¶é—´å’Œèµ„æºä¸Šéƒ½å¤§å¤§å‡å°‘ã€‚æŒç»­è¿æ¥åˆåˆ†ä¸ºä¸¤ç§ï¼šè¯·æ±‚ç®¡çº¿åŒ–å’Œè¯·æ±‚éç®¡çº¿åŒ–ã€‚éç®¡çº¿åŒ–çš„ç‰¹ç‚¹æ˜¯åœ¨å‰ä¸€ä¸ªè¯·æ±‚å¾—åˆ°å“åº”åæ‰èƒ½å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œæ‰€ä»¥åœ¨å‘é€å®Œè¯·æ±‚åˆ°æ”¶åˆ°å“åº”è¿™æ®µæ—¶é—´TCPè¿æ¥æ˜¯ç©ºé—²åœ¨é‚£çš„ï¼Œé€ æˆäº†èµ„æºçš„æµªè´¹ã€‚è€Œç®¡çº¿åŒ–åˆ™æ˜¯å¯ä»¥è¿ç»­çš„å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿ç»­å“åº”ï¼Œå¾ˆå¤§çš„æé«˜çš„åˆ©ç”¨ç‡å’Œå“åº”æ•ˆç‡ã€‚httpå‘å±•http1.1é™¤äº†åœ¨é•¿è¿æ¥ä¸Šä¸1.0ç‰ˆæœ¬ä¸åŒï¼Œåœ¨ç¼“å­˜æ–¹é¢http1.0æ˜¯é€šè¿‡æ¡ä»¶è¯·æ±‚ï¼ˆè¯·æ±‚çš„if-Modified-Sinceå’Œå“åº”çš„Last-Modifiedï¼‰çš„å­—æ®µæ¥åˆ¤æ–­ç¼“å­˜æ˜¯å¦æœ‰æ•ˆã€‚http1.1åŠ å…¥äº†ETagæ¥æ ‡è¯†URLä¸Šçš„èµ„æºçš„ç‰¹å®šç‰ˆæœ¬ã€‚åœ¨å¸¦å®½ä¼˜åŒ–æ–¹é¢å…è®¸è¯·æ±‚èµ„æºçš„æŸä¸€éƒ¨åˆ†ï¼ˆContent-Rangeå­—æ®µå®ç°ï¼‰ï¼Œæ–°å¢ä¸€ä¸ª100çŠ¶æ€ç ç”¨æ¥åœ¨è¯·æ±‚èµ„æºå‰å…ˆå‘é€ä¸€ä¸ªåªå¸¦è¯·æ±‚å¤´çš„è¯·æ±‚ï¼Œè¿™æ ·ä¸€æ¥é¿å…åœ¨ä¸çŸ¥é“æœåŠ¡å™¨æ˜¯å¦ä¼šæ‹’ç»è¯·æ±‚çš„æƒ…å†µä¸‹ä»ç„¶å»å‘é€å®ä½“èµ„æºçš„è¯·æ±‚ï¼Œé¿å…äº†å¸¦å®½çš„æµªè´¹ã€‚http2.0ç‰ˆæœ¬åœ¨é€Ÿåº¦ä¸Šæ¯”http1.1å¿«äº†å¾ˆå¤šã€‚å…·ä½“å¯ä»¥å‚è€ƒHTTP1.0ã€HTTP1.1 å’Œ HTTP2.0 çš„åŒºåˆ«Cookieå’ŒSessionç®€è¿°ï¼ˆ2018.09.28ï¼‰Cookieæœºåˆ¶ä¹‹å‰è°ˆåˆ°httpåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€æ¬¡è®¿é—®é¡µé¢æ—¶æœåŠ¡å™¨éƒ½æŠŠè¿™æ¬¡è¯·æ±‚å½“ä½œç¬¬ä¸€æ¬¡è®¿é—®ï¼Œè¿™æ ·å°±ä¼šæœ‰å¾ˆå¤šå±€é™æ€§ã€‚Cookieæœºåˆ¶å¾ˆå¥½è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚Cookieæ˜¯ä¸€ç§æœåŠ¡å™¨å‘ç»™å®¢æˆ·ç«¯å¹¶ä¸”å­˜å‚¨åœ¨å®¢æˆ·ç«¯çš„æ–‡æœ¬æ–‡ä»¶ã€‚å¦‚æœè¯·æ±‚é¡µé¢æ—¶ï¼Œå®¢æˆ·ç«¯çš„è¯·æ±‚å¤´æ²¡æœ‰Cookieä¿¡æ¯æ—¶ï¼ŒæœåŠ¡å™¨åœ¨å“åº”æ—¶å°±ä¼šè¿”å›ä¸€ä¸ªSet-Cookieå¤´éƒ¨æ¥åˆ›å»ºcookieã€‚Set-Cookieå¤´éƒ¨çš„æ ¼å¼ä¸ºï¼šSet-Cookie: value[; expires=date][; domain=domain][; path=path][; secure] valueï¼šæ˜¯ä¸€ä¸ªname-valueçš„é”®å€¼å¯¹ï¼ŒæŒ‡å®šCookieçš„å€¼expiresï¼šå¯ä»¥è®¾ç½®ä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œå¦‚æœä¸è®¾ç½®ï¼Œé‚£ä¹ˆè¿™ä¸ªcookieä¼šåœ¨æµè§ˆå™¨é¡µé¢å…³é—­æ—¶é”€æ¯ï¼ˆç§°ä¸ºä¼šè¯Cookieï¼‰ã€‚domainï¼šcookieæ‰€å±çš„åŸŸåŠå­åŸŸã€‚secureï¼šè¡¨ç¤ºè¯¥cookieåªèƒ½ç”¨httpsä¼ è¾“ã€‚ä¸€èˆ¬ç”¨äºåŒ…å«è®¤è¯ä¿¡æ¯çš„cookieï¼Œè¦æ±‚ä¼ è¾“æ­¤cookieçš„æ—¶å€™ï¼Œå¿…é¡»ç”¨httpsä¼ è¾“ã€‚pathï¼šcookieçš„æ‰€å±è·¯å¾„ä¹‹åå®¢æˆ·ç«¯å†æ¬¡è®¿é—®é¡µé¢æ—¶å°±ä¼šåœ¨httpè¯·æ±‚å¸¦ä¸ŠCookieå¤´éƒ¨ï¼Œè¿™æ ·ä¸€æ¥æœåŠ¡å™¨å°±èƒ½é€šè¿‡Cookieè·å–åˆ°è¯¥ç”¨æˆ·çš„çŠ¶æ€äº†ã€‚è¿‡ç¨‹å¦‚å›¾ï¼šä½†æ˜¯Cookieæ˜¯æ˜æ–‡ä¼ è¾“çš„ï¼Œå®¹æ˜“è¢«ç¯¡æ”¹ï¼Œå­˜åœ¨å¾ˆå¤§çš„å®‰å…¨éšæ‚£ï¼ŒSessionæœºåˆ¶è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚Sessionæœºåˆ¶ä¸Cookieå­˜å‚¨åœ¨å®¢æˆ·ç«¯ä¸åŒçš„æ˜¯ï¼ŒSessionæ˜¯å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œä½†Sessionæœºåˆ¶æ˜¯åŸºäºCookieä¸Šé¢ã€‚å…¶è¿‡ç¨‹æ˜¯å½“ç”¨æˆ·æäº¤ä¸€ä¸ªHTTPè¯·æ±‚åï¼ŒæœåŠ¡å™¨ç»è¿‡éªŒè¯åå°†ç”¨æˆ·ä¿¡æ¯å­˜æ”¾åœ¨æœåŠ¡å™¨ç«¯ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªåŒ…å«keyä¸ºSession IDçš„é”®å€¼å¯¹çš„Cookieã€‚å®¢æˆ·ç«¯ä¿å­˜è¿™ä¸ªSession IDï¼Œä»¥åçš„HTTPè¯·æ±‚åªè¦å¸¦ä¸ŠSession IDå³å¯ã€‚å› ä¸ºç”¨æˆ·ä¿¡æ¯æ˜¯å­˜æ”¾åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¯¹ç”¨æˆ·æ¥è¯´æ˜¯é€æ˜çš„ï¼Œå¤§å¤§å‡å°‘äº†æ˜æ–‡ç¯¡æ”¹é€ æˆçš„å®‰å…¨å¨èƒã€‚å¦‚æœå®¢æˆ·ç«¯ç¦ç”¨Cookieï¼Œå°±ä¼šé‡‡ç”¨URLæ–¹å¼å¸¦ä¸ŠSession IDã€‚]]></content>
      <categories>
        <category>è®¡ç®—æœºç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>cookie</tag>
        <tag>session</tag>
        <tag>httpåè®®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SpringBootæ•´åˆé¡¹ç›®ç»ƒä¹ ]]></title>
    <url>%2Fspringboot(%E4%B8%80).html</url>
    <content type="text"><![CDATA[ä¸€ä¸ªSpringBootæ•´åˆé¡¹ç›®ç»ƒä¹ ï¼Œä½¿ç”¨åˆ°çš„æŠ€æœ¯Mybatis+Druid+PageHelper+Swagger2+thymeleafï¼Œé‡‡ç”¨RESTfulçš„urlé£æ ¼ã€‚é¡¹ç›®ç®€ä»‹ç»ƒä¹ é¡¹ç›®çš„ä¸»è¦æŠ€æœ¯å¦‚ä¸‹ï¼šSpringBoot 2.0.4Mybatis 1.3.2Druid 1.1.8PageHelper 1.2.5Swagger2 2.6.1thymeleafæŒ‰ç…§ä¸ªäººç†è§£ç®€å•ä»‹ç»ä¸‹è¿™å‡ ä¸ªæŠ€æœ¯çš„åŠŸèƒ½SpringBootå°±æ˜¯å¯¹Springæ¡†æ¶çš„ä¸€ä¸ªä¼˜åŒ–ï¼Œåœ¨é…ç½®æ–¹é¢è¿›è¡Œæ¯”è¾ƒå¤§çš„ä¼˜åŒ–ã€‚å‡å°‘äº†å¾ˆå¤šçš„åº•å±‚é…ç½®ï¼Œå¤§é‡çš„æ³¨è§£å¼€å‘é¿å…äº†xmlé…ç½®çš„ç¹çã€‚ MyBatisæ˜¯ä¸€ä¸ªæŒä¹…å±‚æ¡†æ¶ï¼Œå¯ä»¥å°†POJOsç›´æ¥ä¸æ•°æ®åº“çš„è®°å½•è¿›è¡Œæ˜ å°„ã€‚ä»¥å‰çš„JDBCéœ€è¦å°†SQLè¯­å¥å†™è¿›Javaä»£ç ä¸­ï¼Œè€Œä¸”éœ€è¦åœ¨ç»“æœé›†ä¸Šéå†ç„¶åè¿›è¡Œæ˜ å°„ï¼Œæ¯”è¾ƒç¹çã€‚è€ŒMyBatisä¼˜åŒ–äº†è¿™äº›æ­¥éª¤ï¼Œå®ƒå°†ç»“æœé›†å¯ä»¥ç›´æ¥ä¸POJOè¿›è¡Œæ˜ å°„ï¼Œå¹¶ä¸”å°†sqlè¯­å¥é€šè¿‡xmlæˆ–æ³¨è§£è¿›è¡Œé…ç½®ã€‚ Druidæ˜¯é˜¿é‡Œå·´å·´å¼€å‘çš„ä¸€ä¸ªæ•°æ®åº“ç³»ç»Ÿï¼Œä¸ä»…æä¾›äº†å¼ºå¤§çš„æ•°æ®åº“ç›‘æ§åŠŸèƒ½ï¼Œè€Œä¸”å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± ï¼Œæ€§èƒ½æ–¹é¢éå¸¸ä¼˜ç§€ã€‚ PageHelperæ˜¯ä¸€æ¬¾Mybatisçš„åˆ†é¡µæ’ä»¶ï¼Œé€šè¿‡æ‹¦æˆªå™¨è·å–åˆ°åŒä¸€çº¿ç¨‹çš„SQLè¯­å¥ï¼Œç„¶ååŒ…è£…æˆæœ‰åˆ†é¡µåŠŸèƒ½çš„SQLè¯­å¥ã€‚PageInfoå°è£…äº†å¾ˆå¤šåˆ†é¡µçš„ä¿¡æ¯ã€‚ Swagger2å¯ä»¥é«˜æ•ˆçš„å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸šåŠ¡æ¥å£çš„æ–‡æ¡£ï¼Œå¦‚æœé¡¹ç›®æœ‰äº›ä¸šåŠ¡é€»è¾‘ä¿®æ”¹äº†ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°æˆæ–°çš„æ–‡æ¡£ã€‚ é¡¹ç›®å®ç°å¯¼å…¥ä¾èµ–ç‰ˆæœ¬ç®¡ç†&lt;properties> &lt;project.build.sourceEncoding>UTF-8&lt;/project.build.sourceEncoding> &lt;project.reporting.outputEncoding>UTF-8&lt;/project.reporting.outputEncoding> &lt;java.version>1.8&lt;/java.version> &lt;mybatis-springboot.version>1.3.2&lt;/mybatis-springboot.version> &lt;swagger2.version>2.6.1&lt;/swagger2.version> &lt;mysql.version>5.1.46&lt;/mysql.version> &lt;druid.version>1.1.8&lt;/druid.version> &lt;pagehelper-springboot.version>1.2.5&lt;/pagehelper-springboot.version> &lt;/properties> ç›¸å…³ä¾èµ–&lt;!--Mybatisç›¸å…³ä¾èµ–--> &lt;dependency> &lt;groupId>org.mybatis.spring.boot&lt;/groupId> &lt;artifactId>mybatis-spring-boot-starter&lt;/artifactId> &lt;version>${mybatis-springboot.version}&lt;/version> &lt;/dependency> &lt;!--Swagger2--> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger-ui&lt;/artifactId> &lt;version>${swagger2.version}&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>io.springfox&lt;/groupId> &lt;artifactId>springfox-swagger2&lt;/artifactId> &lt;version>${swagger2.version}&lt;/version> &lt;/dependency> &lt;!--mysqlæ•°æ®åº“ä¾èµ–--> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;/dependency> &lt;!-- alibabaçš„druidæ•°æ®åº“è¿æ¥æ±  --> &lt;dependency> &lt;groupId>com.alibaba&lt;/groupId> &lt;artifactId>druid&lt;/artifactId> &lt;version>${druid.version}&lt;/version> &lt;/dependency> &lt;!--åˆ†é¡µæ’ä»¶--> &lt;dependency> &lt;groupId>com.github.pagehelper&lt;/groupId> &lt;artifactId>pagehelper-spring-boot-starter&lt;/artifactId> &lt;version>${pagehelper-springboot.version}&lt;/version> &lt;/dependency> &lt;!--çƒ­éƒ¨ç½²--> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-devtools&lt;/artifactId> &lt;/dependency> &lt;!--æ¨¡æ¿å¼•æ“--> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-thymeleaf&lt;/artifactId> &lt;/dependency> mybatisé€†å‘å·¥ç¨‹æ’ä»¶é…ç½®&lt;plugin> &lt;groupId>org.mybatis.generator&lt;/groupId> &lt;artifactId>mybatis-generator-maven-plugin&lt;/artifactId> &lt;version>${mybatis-springboot.version}&lt;/version> &lt;configuration> &lt;configurationFile>${basedir}/src/main/resources/generator/generatorConfig.xml&lt;/configurationFile> &lt;overwrite>true&lt;/overwrite> &lt;verbose>true&lt;/verbose> &lt;/configuration> &lt;dependencies> &lt;dependency> &lt;groupId>mysql&lt;/groupId> &lt;artifactId>mysql-connector-java&lt;/artifactId> &lt;version>${mysql.version}&lt;/version> &lt;/dependency> &lt;/dependencies> &lt;/plugin> é…ç½®æ–‡ä»¶å…¨å±€é…ç½®æ–‡ä»¶server: port: 8080 spring: datasource: url: jdbc:mysql://localhost:3306/mybatis_druid?userUnicode=true&amp;characterEncoding=utf8 username: root password: 1234 driver-class-name: com.mysql.jdbc.Driver #é…ç½®ç±»å‹ä¸ºDruidæ•°æ®åº“è¿æ¥æ±  type: com.alibaba.druid.pool.DruidDataSource initialSize: 5 minIdle: 5 maxActive: 20 maxWait: 60000 timeBetweenEvictionRunsMillis: 60000 minEvictableIdleTimeMillis: 300000 # é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œå»æ‰åç›‘æ§ç•Œé¢sqlæ— æ³•ç»Ÿè®¡ï¼Œ'wall'ç”¨äºé˜²ç«å¢™ filters: stat,wall,log4j maxPoolPreparedStatementPerConnectionSize: 20 useGlobalDataSourceStat: true connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500 thymeleaf: cache: false mybatis: #é…ç½®æ˜ å°„æ–‡ä»¶çš„è·¯å¾„ mapperLocations: classpath:mapper/*.xml typeAliasesPackage: me.freelee.mybatisdruid.model configLocation: classpath:mybatis-config.xml mybatisé…ç½®æ–‡ä»¶&lt;?xml version="1.0" encoding="UTF-8"?> &lt;!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-config.dtd"> &lt;configuration> &lt;settings> &lt;!-- å…¨å±€å¯ç”¨æˆ–ç¦ç”¨å»¶è¿ŸåŠ è½½ã€‚ç¦ç”¨åï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå³ä½¿åŠ è½½ --> &lt;setting name="lazyLoadingEnabled" value="true" /> &lt;!-- ä½¿ç”¨é©¼å³°å‘½åæ³•--> &lt;setting name="mapUnderscoreToCamelCase" value="true" /> &lt;/settings> &lt;/configuration> mybatisé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶&lt;?xml version="1.0" encoding="UTF-8"?> &lt;!DOCTYPE generatorConfiguration PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN" "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"> &lt;generatorConfiguration> &lt;context id="DB2Tables" targetRuntime="MyBatis3"> &lt;commentGenerator> &lt;property name="suppressDate" value="true"/> &lt;!--æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š--> &lt;property name="suppressAllComments" value="true"/> &lt;/commentGenerator> &lt;jdbcConnection driverClass="com.mysql.jdbc.Driver" connectionURL="jdbc:mysql://localhost:3306/mybatis_druid" userId="root" password="1234">&lt;/jdbcConnection> &lt;javaTypeResolver> &lt;property name="forceBigDecimals" value="false"/> &lt;/javaTypeResolver> &lt;!-- ç”Ÿæˆæ¨¡å‹çš„åŒ…åå’Œä½ç½®--> &lt;javaModelGenerator targetPackage="me.freelee.mybatisdruid.model" targetProject="src/main/java"> &lt;property name="enableSubPackages" value="true"/> &lt;property name="trimStrings" value="true"/> &lt;/javaModelGenerator> &lt;!-- ç”Ÿæˆæ˜ å°„æ–‡ä»¶çš„åŒ…åå’Œä½ç½®--> &lt;sqlMapGenerator targetPackage="mapper" targetProject="src/main/resources"> &lt;property name="enableSubPackages" value="true"/> &lt;/sqlMapGenerator> &lt;!-- ç”ŸæˆDAOçš„åŒ…åå’Œä½ç½®--> &lt;javaClientGenerator type="XMLMAPPER" targetPackage="me.freelee.mybatisdruid.mapper" targetProject="src/main/java"> &lt;property name="enableSubPackages" value="true"/> &lt;/javaClientGenerator> &lt;table tableName="tb_user" domainObjectName="User" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false">&lt;/table> &lt;/context> &lt;/generatorConfiguration> æ¥ä¸‹æ¥è¿è¡Œmybatis-generatoræ’ä»¶ï¼Œå°±ä¼šç”Ÿæˆæ•°æ®åº“æŒ‡å®šè¡¨å¯¹åº”çš„modelå’Œmapperã€‚ä¸šåŠ¡é€»è¾‘UserServiceæ¥å£çš„å®ç°ç±»ï¼ˆåªè´´å‡ºäº†å…³é”®æ–¹æ³•ï¼‰ã€‚@Override public PageInfo&lt;User> queryPage(Integer pageNum) { //å¼•å…¥PageHelperåˆ†é¡µæ’ä»¶ //startPageæ–¹æ³•åç´§è·ŸæŸ¥è¯¢è¯­å¥,è¿™æ ·æ‰èƒ½å®ç°åˆ†é¡µæŸ¥è¯¢ PageHelper.startPage(pageNum,2); List&lt;User> list=userMapper.selectAllUser(); //PageInfoæ„é€ å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ˜¾ç¤ºå¯¼èˆªé¡µçš„æ•°é‡ PageInfo&lt;User> pageInfo=new PageInfo&lt;>(list,2); return pageInfo; } /* å› ä¸ºæ˜¯å¯¹æ•°æ®åº“è¿›è¡Œå†™æ“ä½œï¼Œæ‰€ä»¥éœ€è¦ä¿æŒåŸå­æ€§ã€‚æ·»åŠ äº†äº‹åŠ¡çš„æ³¨è§£@Transactional Propagation.REQUIRED:å­˜åœ¨äº‹åŠ¡å°±å¤„äºå½“å‰äº‹åŠ¡ä¸­ï¼Œæ²¡æœ‰å°±æ‰åˆ›å»ºä¸€ä¸ªäº‹åŠ¡ */ @Transactional(propagation = Propagation.REQUIRED,readOnly = false) public void insertUser(User user) { userMapper.insertSelective(user); } Druidé…ç½®ç±» Druidæ–‡æ¡£ //å¯¼å…¥é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®æºé…ç½®å°è£…æˆDruidDateSourceï¼Œå¹¶åŠ å…¥åˆ°å®¹å™¨ä¸­ @ConfigurationProperties(prefix = "spring.datasource") @Bean public DataSource druid(){ return new DruidDataSource(); } //é…ç½®Druidçš„ç›‘æ§ //1ã€é…ç½®ä¸€ä¸ªç®¡ç†åå°çš„Servlet @Bean public ServletRegistrationBean statViewServlet(){ ServletRegistrationBean bean=new ServletRegistrationBean(new StatViewServlet(),"/druid/*"); Map&lt;String,String> initParams=new HashMap&lt;>(); //è®¾ç½®æ§åˆ¶å°ç®¡ç†ç”¨æˆ· initParams.put("loginUsername","admin"); initParams.put("loginPassword","123456"); initParams.put("allow","");//é»˜è®¤å°±æ˜¯å…è®¸æ‰€æœ‰è®¿é—® bean.setInitParameters(initParams); return bean; } //2ã€é…ç½®ä¸€ä¸ªwebç›‘æ§çš„filter @Bean public FilterRegistrationBean webStatFilter(){ FilterRegistrationBean bean=new FilterRegistrationBean(); bean.setFilter(new WebStatFilter()); Map&lt;String,String> initParams=new HashMap&lt;>(); //ä¸è¿›è¡Œè¿‡æ»¤çš„æ ¼å¼ initParams.put("exclusions","*.js,*.css,/druid/*"); bean.setInitParameters(initParams); //è®¾ç½®è¿‡æ»¤å™¨è¿‡æ»¤è·¯å¾„ bean.setUrlPatterns(Arrays.asList("/*")); return bean; } UserControlleréƒ¨åˆ†ä»£ç  //æ ¹æ®ç”¨æˆ·IdæŸ¥è¯¢ç”¨æˆ· @GetMapping("/{id}") @ResponseBody public User selectUserById(@PathVariable("id") Integer id){ User user=userService.selectUserById(id); return user; } //åˆ†é¡µæŸ¥è¯¢æ‰€æœ‰æ•°æ® @GetMapping("") public String list(@RequestParam(value = "pageNo",defaultValue = "1") Integer pageNo , Model model){ PageInfo&lt;User> pageInfo=userService.queryPage(pageNo); model.addAttribute("pageInfo",pageInfo); return "list"; } ç°åœ¨å°±å¯ä»¥å¯åŠ¨SpringBootï¼Œè¿›è¡Œæµ‹è¯•äº†ã€‚localhost:8080/druidå°±å¯ä»¥è¿›å…¥Druidç›‘æ§ç³»ç»Ÿï¼Œå¯ä»¥æŸ¥çœ‹æ•°æ®æºçš„è¯¦ç»†ä¿¡æ¯ç­‰ç­‰å¾ˆå¤šåŠŸèƒ½ã€‚Userçš„åˆ†é¡µæ˜¾ç¤ºï¼Œé¡µé¢çš„UIä¸æ˜¯å¾ˆå…³é”®ï¼Œèƒ½ç”¨å°±è¡Œã€‚è¿˜æœ‰æœ€åä¸€ä¸ªæ­¥éª¤ï¼Œä½¿ç”¨Swagger2ç”Ÿæˆæ–‡æ¡£ã€‚ Swagger2æ–‡æ¡£é¦–å…ˆé…ç½®ä¸€ä¸ªSwagger2çš„é…ç½®ç±»ï¼š@EnableSwagger2ï¼šå¼€å¯swagger2æ³¨è§£åŠŸèƒ½@Configuration @EnableSwagger2 public class SwaggerConfig { //åˆ›å»ºä¸€ä¸ªDocketå¯¹è±¡åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š // 1ã€Apiçš„è¯¦ç»†ä¿¡æ¯ï¼Œå³apiInfoï¼ˆï¼‰ // 2ã€æŒ‡å®šéœ€è¦ç”Ÿæˆæ–‡æ¡£çš„åŒ…è·¯ç» // 3ã€æŒ‡å®šç”ŸæˆApiæ–‡æ¡£çš„è·¯å¾„ @Bean public Docket createRestApi(){ return new Docket(DocumentationType.SWAGGER_2) //apiInfoï¼ˆï¼‰åˆ›å»ºæ¥å£æ–‡æ¡£çš„ä¿¡æ¯ .apiInfo(apiInfo()) .select() //apiï¼ˆï¼‰å¯ä»¥æ§åˆ¶æŒ‡å®šæ‰«æåŒ…ä¸‹å®šä¹‰çš„Apiæš´éœ²ç»™Swagger2 .apis(RequestHandlerSelectors.basePackage("me.freelee.mybatisdruid.controller")) .paths(PathSelectors.any()) .build(); } //æ„å»ºApiæ–‡æ¡£çš„ç›¸ä¿¡ä¿¡æ¯ private ApiInfo apiInfo(){ return new ApiInfoBuilder() .title("ä½¿ç”¨Swagger2æ„å»ºRESTful APIs") .description("Springboot REST API With Swagger2") .version("1.0") .build(); } } è¿˜éœ€è¦å†Controllerä¸Šæ·»åŠ Swagger2æ³¨è§£ã€‚@Apiï¼šç”¨æ¥æ ‡æ³¨ç±»ã€‚Swagger2ä¼šæ£€æµ‹æ ‡æ³¨æ­¤æ³¨è§£çš„ç±»@ApiOperationï¼šç”¨æ¥æ ‡æ³¨æ–¹æ³•ï¼Œä¼šå°†æ­¤æ–¹æ³•æš´éœ²ç»™Swagger2æ¥ç”Ÿæˆæ–‡æ¡£ã€‚valueï¼šæ–¹æ³•å notesï¼šæ–¹æ³•çš„æè¿° é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰@ApiImplicitParamå¯ä»¥æ ‡æ³¨æ–¹æ³•å‚æ•°ï¼Œå¯ä»¥è®¾å®šæ˜¯å¦requiredï¼Œåç§°ï¼Œç±»å‹â€¦â€¦å¦‚æœä¸æƒ³æŠŠæ¥å£æš´éœ²ç»™Swagger2ï¼Œå¯ä»¥ä½¿ç”¨@ApiIngoreæ ‡æ³¨æ–¹æ³•ã€‚@Api(value = "ç”¨æˆ·Controller") @Controller @RequestMapping("/user") public class UserController { @Autowired UserService userService; @ApiOperation(value = "è·å–ç”¨æˆ·ä¿¡æ¯", notes = "æ ¹æ®ç”¨æˆ·idè·å–ç”¨æˆ·ä¿¡æ¯") @ApiImplicitParam(name = "id",value = "ç”¨æˆ·çš„ID",required = true,dataType = "Integer") @GetMapping("/{id}") @ResponseBody public User selectUserById(@PathVariable("id") Integer id){ User user=userService.selectUserById(id); return user; } @ApiOperation(value = "è·å–ç”¨æˆ·åˆ—è¡¨", notes = "è·å–ç”¨æˆ·åˆ—è¡¨") @GetMapping("") public String list(@RequestParam(value = "pageNo",defaultValue = "1") Integer pageNo , Model model){ PageInfo&lt;User> pageInfo=userService.queryPage(pageNo); model.addAttribute("pageInfo",pageInfo); return "list"; } } Swagger2æ–‡æ¡£ä¸»é¡µé¢å¦‚å›¾ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å«æœ‰æ³¨è§£@ApiOperationçš„æ–¹æ³•æ˜¾ç¤ºå†æ–‡æ¡£ä¸­ã€‚ç‚¹å‡»å…¶ä¸­ä¸€ä¸ªæ–¹æ³•,å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è®¾ç½®çš„ä¸€äº›ä¿¡æ¯ã€‚æ–‡æ¡£æä¾›äº†ä¸€ä¸ªModelçš„ä¸€ä¸ªå€¼çš„ç¤ºä¾‹ï¼ŒæœåŠ¡å™¨ç›¸åº”ç±»å‹åŒ…æ‹¬æ‰€æœ‰è¿”å›ç±»å‹ã€‚ç„¶åä¸‹é¢æ˜¯æ–¹æ³•çš„å‚æ•°ï¼Œè¾“å…¥å¯¹åº”ç±»å‹çš„å€¼ï¼Œç‚¹å‡»Try it outï¼ä¼šè¿›è¡Œå¯¹æœåŠ¡å™¨çš„è¯·æ±‚ï¼ˆå¦‚æœæ˜¯å†™å…¥æ“ä½œï¼Œä¼šå†™å…¥æ•°æ®åº“ï¼‰ï¼Œå°±èƒ½å¾—åˆ°Request Urlå’ŒResponse Bodyç­‰å…¶ä»–è¯¦ç»†ä¿¡æ¯ã€‚é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜å·²è§£å†³ï¼š1ã€pagehelperçš„ä¾èµ–é—®é¢˜ï¼Œä¼šå¯¼è‡´PageInfoå¯¹è±¡æ— æ³•è‡ªåŠ¨è£…é…ã€‚ é”™è¯¯ä¾èµ– &lt;dependency> &lt;groupId>com.github.pagehelper&lt;/groupId> &lt;artifactId>pagehelper&lt;/artifactId> &lt;version>5.1.2&lt;/version> &lt;/dependency> æ­£ç¡®ä¾èµ– &lt;dependency> &lt;groupId>com.github.pagehelper&lt;/groupId> &lt;artifactId>pagehelper-spring-boot-starter&lt;/artifactId> &lt;version>${pagehelper-springboot.version}&lt;/version> &lt;/dependency> æœªè§£å†³ï¼š1ã€åœ¨selectUserByIdï¼ˆï¼‰åŠ ä¸Šæ³¨è§£å @ApiImplicitParam(name = &quot;id&quot;,value = &quot;ç”¨æˆ·çš„ID&quot;,required = true,dataType = &quot;Long&quot;) ï¼Œä½¿ç”¨Swagger2æµ‹è¯•æ—¶ï¼Œä¼šæŠ¥é”™ *&quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; nested exception is java.lang.NumberFormatException: For input string: \&quot;{id}\&quot;&quot;,* ä¸çŸ¥é“åœ¨ä¼ å‚è¿‡ç¨‹ä¸ºä»€ä¹ˆä¸ä¼šè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Ÿï¼Ÿï¼Ÿ2ã€thymeleafä½œä¸ºæ¨¡æ¿å¼•æ“æ—¶ï¼Œæƒ³æ„å»ºDELETEè¯·æ±‚å’ŒPUTè¯·æ±‚ï¼Œå°è¯•è¿‡ajaxæ–¹å¼ï¼Œä½†æ˜¯å¤±è´¥äº†ç›®å‰æ‰¾ä¸åˆ°é”™è¯¯åœ¨å“ªï¼Œå…¶ä»–æ–¹æ³•è¿˜æœªå°è¯•ã€‚ å‚è€ƒæ–‡ç« é“¾æ¥Spring Bootä¸­ä½¿ç”¨Swagger2æ„å»ºå¼ºå¤§çš„RESTful APIæ–‡æ¡£ä¸»æµJavaæ•°æ®åº“è¿æ¥æ± æ¯”è¾ƒåŠå‰ç»å®Œæ•´ä»£ç githubï¼šhttps://github.com/LJP-Perfect/SpringBoot_Projectç äº‘ï¼šhttps://gitee.com/free-lee/springboot_project_practice]]></content>
      <categories>
        <category>SpringBoot</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>MyBatis</tag>
        <tag>Swagger2</tag>
        <tag>Druid</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ArrayList]]></title>
    <url>%2FArrayList.html</url>
    <content type="text"><![CDATA[ä»Šå¤©å†™Javaé›†åˆæ¡†æ¶é‡Œçš„å…¶ä¸­ä¸€ç§å®¹å™¨â€”â€”ArrarListã€‚å¬ä¸Šå»è·Ÿæ•°ç»„å·®ä¸å¤šï¼Œå…¶å®ï¼Œå®ƒä»¬å¾ˆå¤šç†å¿µä¸Šæ˜¯çœŸå·®ä¸å¤šã€‚å…ˆæ”¾ä¸€å¼ é›†åˆæ¡†æ¶å›¾ã€‚ä¹ä¸€çœ‹ï¼Œæ„Ÿè§‰è´¼å¤æ‚ï¼Œå¤´è¦ç‚¸ã€‚å…¶å®åªè¦å°å°åˆ†æä¸€æ³¢ï¼Œå°±ä¸ä¼šè§‰å¾—éš¾äº†ã€‚è¦ä¸ï¼Œæˆ‘å†æ”¾ä¸€å¼ ç®€åŒ–å›¾ï¼Ÿï¼ç®€åŒ–å›¾é‡ŒæŠŠé‡ç‚¹éƒ½ç»™ç•™ä¸‹äº†ã€‚ä»ä¸Šé¢é‚£å¼ æ¡†æ¶å›¾ä¸­å¯ä»¥çœ‹å‡ºArrayListæ˜¯ä¸€ä¸ªå®ç°ç±»ï¼Œç»§æ‰¿äº†AbstarctListæŠ½è±¡ç±»ï¼Œå®ç°äº†Listæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ä»æºç ä¸­çœ‹åˆ°è¿™äº›ï¼Œé™¤äº†è¿™äº›ï¼ŒArrayListè¿˜å®ç°äº†RandomAccessï¼ŒCloneableï¼ŒSerializableè¿™ä¸‰ä¸ªæ¥å£ã€‚ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸‰ä¸ªæ¥å£ï¼ˆç­‰å­¦æ·±äº†ï¼Œå†æ¥ç»™è¯¦ç»†çš„ï¼‰ã€‚RandomAccessç¿»è¯‘ä¸€ä¸‹ï¼Œå°±æ˜¯éšæœºè®¿é—®ï¼Œè¿™å°±åƒæ•°ç»„é‚£æ ·å¯ä»¥é€šè¿‡ä¸‹æ ‡ç›´æ¥è®¿é—®é‚£ä¸ªå…ƒç´ ã€‚Cloneableå…‹éš†æ¥å£ï¼Œå…¶å¯ä»¥å°†ä¸€ä¸ªå®ä¾‹æ‹·è´åˆ°ä¸€ä¸ªæ–°å®ä¾‹ã€‚å®é™…ä¸Šåªæ‹·è´å…¶ä¸­çš„å„å˜é‡çš„å€¼ï¼Œæ˜¯æµ…æ‹·è´ã€‚Serializableå¯åºåˆ—åŒ–æ¥å£ï¼Œé€šè¿‡æ­¤æ¥å£å¯ä»¥å®ç°å®ä¾‹çš„å­˜å‚¨ï¼Œä½¿ç”¨æ—¶å¯ä»¥é€šè¿‡ååºåˆ—åŒ–å¾—åˆ°é‚£ä¸ªå®ä¾‹ã€‚ArrayListçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªObjectå¯¹è±¡ç±»å‹çš„æ•°ç»„ï¼Œåœ¨è¿™ä¸ªæ•°ç»„ä¸Šè¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œå› ä¸ºObjectæ˜¯æ‰€æœ‰ç±»çš„åŸºç±»ï¼Œæ‰€ä»¥å¯ä»¥æ¥æ”¶ä»»æ„åŒç±»å‹çš„å¯¹è±¡ã€‚å¹¶ä¸”ç”¨åˆ°äº†æ³›å‹ï¼Œå¯ä»¥è‡ªå·±æŒ‡å®šå¯¹è±¡çš„ç±»å‹ã€‚ArrayListçš„åˆå§‹åŒ–1ã€é™æ€åˆå§‹åŒ–(åœ¨å£°æ˜å˜é‡æ—¶ï¼Œèµ‹äºˆåˆå§‹å€¼ã€‚)//ç¬¬ä¸€ç§ public static void main(String[] args) { ArrayList&lt;String&gt; arraylist=new ArrayList&lt;String&gt;(){ { add(&quot;a&quot;); add(&quot;b&quot;); } }; } //ç¬¬äºŒç§ public static void main(String[] args) { ArrayList&lt;String&gt; arraylist=new ArrayList&lt;String&gt;(Arrays.asList(&quot;a&quot;,&quot;b&quot;)); System.out.print(arraylist); } //ç¬¬ä¸‰ç§ public static void main(String[] args) { String[] str={&quot;a&quot;,&quot;b&quot;}; List arraylist=Arrays.asList(str); } è¦æ³¨æ„çš„æ˜¯ï¼Œç¬¬ä¸‰ç§çš„arraylistæ˜¯æ— æ³•æ”¹å˜å…¶é•¿åº¦çš„ï¼Œå³æ— æ³•è¿›è¡Œadd(),remove()ç­‰æ“ä½œï¼Œå› ä¸ºæ•°ç»„ä¸€æ—¦ç»™å®šï¼Œé•¿åº¦å°±æ— æ³•æ”¹å˜ï¼Œåˆå§‹åŒ–æ—¶å°†æ•°ç»„æ³›å‹åŒ–èµ‹ç»™å®ƒã€‚2ã€åŠ¨æ€åˆå§‹åŒ–public static void main(String[] args) { ArrayList&lt;String&gt; arraylist=new ArrayList&lt;String&gt;(); arraylist.add(&quot;a&quot;); arraylist.add(&quot;b&quot;); System.out.println(arraylist); } ArrayList å¸¸ç”¨æ–¹æ³•è®²å®Œäº†åˆå§‹åŒ–ï¼Œæ¥çœ‹ä¸€ä¸‹ArrayListçš„ä¸€äº›å¸¸ç”¨æ–¹æ³•ã€‚1ã€add()æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹add()æ–¹æ³•çš„æºç  public boolean add(E e) { modCount++; add(e, elementData, size); return true; } å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„add()åˆè°ƒç”¨äº†ä¸å®ƒäº’ä¸ºé‡è½½çš„æ–¹æ³•ï¼Œå¦‚ä¸‹ã€‚ /** * This helper method split out from add(E) to keep method * bytecode size under 35 (the -XX:MaxInlineSize default value), * which helps when add(E) is called in a C1-compiled loop. */ private void add(E e, Object[] elementData, int s) { if (s == elementData.length) elementData = grow(); elementData[s] = e; size = s + 1; } å¯ä»¥çœ‹åˆ°å¦‚æœå½“å‰æ•°ç»„çš„é•¿åº¦ç­‰äºå½“å‰è®¾å®šçš„sizeå°±ä¼šè°ƒç”¨grow()æ–¹æ³•ã€‚sizeä¸ç”¨å¤šè®²ï¼Œå°±æ˜¯ArrayListåŒ…å«çš„å…ƒç´ ä¸ªæ•°ï¼Œæ¥çœ‹ä¸€ä¸‹elementDataå’Œgrow()çš„å®šä¹‰ã€‚å…ˆçœ‹elementDateï¼Œå…¶æœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„ã€‚å¦‚æœåˆ›å»ºä¸€ä¸ªç©ºçš„ArrayListæ—¶ï¼Œç³»ç»Ÿä¼šå°†å…¶capacityç½® ä¸º10,ä¹Ÿå°±æ˜¯é»˜è®¤çš„å¤§å°ä¸º10ã€‚ transient Object[] elementData; // non-private to simplify nested class access ç„¶ååœ¨çœ‹grow()ã€‚å®ƒä¹Ÿå»è°ƒç”¨äº†ä¸å®ƒé‡è½½çš„æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°å®ƒå°†size+1å€¼ä¼ ç»™é‡è½½å‡½æ•°ï¼Œå¸¦å‚å‡½æ•°å°†å…¶æ‰©å±•æˆå½“å‰æ•°ç»„å¤§å°çš„ä¸¤å€ã€‚private Object[] grow(int minCapacity) { return elementData = Arrays.copyOf(elementData, newCapacity(minCapacity)); } private Object[] grow() { return grow(size + 1); } å†å›åˆ°add()ï¼Œå¦‚æœæ•°ç»„é•¿åº¦ä¸å½“å‰æ•°ç»„å®¹é‡ç›¸åŒï¼Œåˆ™å…ˆæ‰©å¢ä¸€å€å¤§å°ï¼Œç„¶åèµ‹å€¼ã€‚è¿˜æ²¡è®²å®Œå‘¢ï¼Œadd()è¿˜æœ‰å¦å¤–ä¸€ä¸ªé‡è½½æ–¹æ³•ï¼ˆæˆ‘çš„å¤©å“ªï¼Œä¸€ä¸ªadd()çš„æºç æ¯”æˆ‘æƒ³è±¡çš„è¦å¤šï¼‰ã€‚ public void add(int index, E element) { rangeCheckForAdd(index); modCount++; final int s; Object[] elementData; if ((s = size) == (elementData = this.elementData).length) elementData = grow(); System.arraycopy(elementData, index, elementData, index + 1, s - index); elementData[index] = element; size = s + 1; } è¿™ä¸ªadd()æ–¹æ³•æ¥å—å¤–éƒ¨ä¸¤ä¸ªå‚æ•°ï¼Œindexå°±æ˜¯è¦æ·»åŠ çš„ä½ç½®çš„ä¸‹æ ‡ã€‚é¦–å…ˆrangeCheckForAdd(),æ˜¯åˆ¤æ–­indexæ˜¯å¦åˆæ³•çš„ï¼ˆå¤§äºç­‰äº0&amp;&amp;å°äºç­‰äºsizeï¼Œæ³¨æ„addæ—¶ï¼Œä¸èƒ½è·¨é•¿åº¦ç»™å®ƒèµ‹å€¼ï¼‰,modCountæ˜¯è®°å½•æ­¤æ•°ç»„ä¿®æ”¹çš„æ¬¡æ•°ï¼Œï¼ˆè¿™é‡Œåˆå¯ä»¥å±•å¼€å¾ˆå¤šçŸ¥è¯†ï¼Œæˆ‘ç›´æ¥æŠ›ä¸€ä¸ªé“¾æ¥https://www.cnblogs.com/zuochengsi-9/p/7050351.htmlï¼‰ï¼Œå…¶ä¸»è¦å°±æ˜¯é˜²æ­¢çº¿ç¨‹å®‰å…¨çš„ArrayListä¸€è¾¹ç”¨iteratoréå†æ—¶ä¸€è¾¹å¯¹ArrayListè¿›è¡Œå¢åˆ æ“ä½œæ—¶å‘ç”Ÿå¼‚å¸¸ã€‚ç„¶åæ˜¯arraycopy()ï¼ŒæŸ¥çœ‹æºç æ—¶å‘ç°å®ƒæ˜¯nativeï¼ˆC++çœŸå‰å®³ï¼‰,é‚£å°±çœ‹å£°æ˜ï¼Œå…¶æ„æ€å°±æ˜¯å°†ä»srcé‡Œçš„srcPosä½ç½®å¼€å§‹çš„lengthé•¿åº¦èµ‹ç»™ä»destPosä½ç½®çš„destã€‚public static native void arraycopy(Object src, int srcPos, Object dest,int destPos,int length); å†æ¥çœ‹çœ‹å…·ä½“ä½¿ç”¨ã€‚ ArrayList &lt;String&gt;arraylist = new ArrayList&lt;String&gt;(); arraylist.add(&quot;b&quot;); arraylist.add(0,&quot;a&quot;); arraylist.add(2,&quot;c&quot;) //ä¸‹æ ‡ä¸º3çš„åœ°æ–¹è¿˜ä¸ºnull //arraylist.add(4,&quot;d&quot;); //error System.out.println(arraylist); Outputï¼š [a, b, c] è¿™é‡Œaå’Œbçš„ä½ç½®æ˜¯å› ä¸ºarraycopyã€‚2ã€remove()remove()ä¹Ÿæœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•ã€‚å°±ä¸è´´æºç äº†ï¼Œæºç å“ªéƒ½å¯ä»¥æŸ¥åˆ°ã€‚//æŒ‰ç…§ä¸‹æ ‡æ¥ç§»é™¤ public E remove(int index); //æŒ‰ç…§å…ƒç´ æ¥ç§»é™¤ public boolean remove(Object o); //clear()æ–¹æ³•æ˜¯åˆ é™¤æ‰€æœ‰å…ƒç´  public void clear() //åˆ é™¤æŒ‡å®šä¸‹æ ‡èŒƒå›´çš„å…ƒç´  protected void removeRange(int fromIndex, int toIndex) å¦‚æœä½¿ç”¨removeåˆ é™¤æŸä¸ªä¸‹æ ‡æ˜¯ArrayListçš„ä¸­é—´ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆArrayListä¼šå°†æ‰€åˆ å…ƒç´ åé¢çš„å…ƒç´ å‰ç§»ä¸€ä¸ªä½ç½®ã€‚ArrayListä¸Arrayé‚£ä¸æ˜¯æœ‰æ•°ç»„å°±å¯ä»¥äº†å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜è¦ArrayListå‘¢ï¼Ÿ| | ArrayList | Array || â€”â€”â€“ | :â€”â€“: | :â€”-: || å¯æ‰©å±•æ€§ | å¯ä»¥åŠ¨æ€æ”¹å˜å…¶é•¿åº¦ | æ•°ç»„æ˜¯é™æ€çš„ï¼Œä¸€æ—¦é•¿åº¦ç»™å®šï¼Œå°±æ— æ³•æ”¹å˜ || æ–¹æ³•æ”¯æŒ | æœ‰å¾ˆå¤šçš„æ–¹æ³•å¯ä»¥æ–¹ä¾¿çš„å¯¹ArrayListè¿›è¡Œæ“ï¼Œä½†æ˜¯ç‰ºç‰²äº†æ•ˆç‡(åˆ¤å®šæ•°ç»„æ˜¯å¦outBoundsâ€¦) | æ•°ç»„æ²¡æœ‰ |æ€»ä¹‹ï¼Œå„æœ‰å„çš„ä¼˜ç‚¹ï¼Œé€‰ç”¨å“ªç§ä¹Ÿæ˜¯è§†å…·ä½“æƒ…å†µè€Œå®šçš„ï¼Œå¹¶æ— ç»å¯¹çš„è¯´æ³•ã€‚`]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>array</tag>
        <tag>Javaå®¹å™¨</tag>
        <tag>List</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ngè¯¾ç¨‹å®Œç»“ç¯‡]]></title>
    <url>%2FNG.html</url>
    <content type="text"><![CDATA[ä»4æœˆ2å·å¼€å§‹å­¦ä¹ Ngçš„æœºå™¨å­¦ä¹ ï¼Œæ²¡æœ‰ç»™æˆ‘éš¾ä»¥å…¥é—¨çš„æ„Ÿè§‰ï¼Œè™½ç„¶å¾ˆå¤šæ¨¡å‹éƒ½æ²¡æœ‰ç”¨å¾ˆæ·±çš„å…¬å¼å»æ¨å¯¼ï¼Œä½†æ˜¯çœŸçš„å¾ˆå¥½ç†è§£ï¼Œå¾ˆé€‚åˆæˆ‘è¿™ç§å°ç™½å•Šã€‚ä¸å¾—ä¸ä½©æœæ©è¾¾å¤§ä½¬çš„æ•™å­¦èƒ½åŠ›ï¼Œä¸è¿‡æ„Ÿè§‰1.25å€é€Ÿå¯¹æˆ‘æ¥è¯´ç®€ç›´ç¾éš¾å•Šï¼Œè¿˜æ˜¯è€è€å®å®1å€å§(æ¸£æ¸£é‰´å®šå®Œæ¯•)ã€‚çœ‹åˆ°æœ€åï¼Œè«åæ„ŸåŠ¨ï¼Œä»¥æ³ªè°¢å¹•ã€‚ä¸ºäº†èµ¶é¡¹ç›®è¿›åº¦ï¼Œåªèƒ½æ”¾å¼ƒç®—æ³•çš„æ·±å…¥æ¨å¯¼ï¼Œå…ˆå¤§è‡´ç†è§£æ¨¡å‹åŠå‚æ•°çš„ä½œç”¨ï¼Œæ¥ç€å°±æ˜¯å¼€å§‹å­¦ä¹ NLPã€‚å¯ï¼Œæ²¡æœ‰æ˜ç¡®çš„å­¦ä¹ æ–¹å‘å’Œè·¯çº¿å•Šï¼Œæ„Ÿè§‰GGã€‚è¿˜å¾—å…ˆå•ƒç‚¹å…¬å¼€è¯¾ï¼ŒåŸç†è¿˜æ˜¯è¦æ‡‚çš„ï¼Œcodingèƒ½åŠ›å¾ˆæ˜¯è®©æˆ‘éš¾å—ï¼Œå¾—å®è·µå®è·µäº†ã€‚æ—¶é—´ä¸å¤Ÿç”¨å•Šï¼Œ7æœˆå°±æ˜¯ç»“é¡¹ç›®ï¼Œå“‡å¾—å°±å“­å‡ºæ¥äº†ã€‚ä¸è¯´äº†ï¼Œç»§ç»­è§†é¢‘feedã€‚]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntuä¸‹é…ç½®tensorflow(gpu)]]></title>
    <url>%2Ftensorflow.html</url>
    <content type="text"><![CDATA[æ¬è‡ªè‡ªå·±çš„csdnUbuntu16.04ç¯å¢ƒä¸‹ä»Anaconda3å®‰è£…åˆ°Tensorflow(gpu)åŠpycharmå®‰è£…å’Œæµ‹è¯•mnistå®Œæ•´æ•™ç¨‹]]></content>
      <categories>
        <category>ML</category>
      </categories>
      <tags>
        <tag>anaconda</tag>
        <tag>tensorflowé…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ubuntuå®‰è£…åŠå¸¸è§é—®é¢˜è§£å†³]]></title>
    <url>%2Fubuntu.html</url>
    <content type="text"><![CDATA[æ¬è‡ªè‡ªå·±çš„csdnUbuntuâ€”â€”ä»å®‰è£…åˆ°æ”¾å¼ƒï¼ˆ/é€ƒ ï¼‰ã€æ­¤æ•™ç¨‹åŒ…æ‹¬ubuntuçš„å®‰è£…ã€å…³æœºå¡æ­»ï¼ˆNvidiaå®‰è£…ï¼‰ã€æ— æ³•è¿æ¥wifiç­‰è§£å†³æ–¹æ¡ˆã€‘]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[çº¿æ€§å›å½’ä¹‹æ³¢å£«é¡¿æˆ¿ä»·é¢„æµ‹]]></title>
    <url>%2FLinear_Regression.html</url>
    <content type="text"><![CDATA[æœ€è¿‘å­¦ä¹ äº†çº¿æ€§å›å½’ï¼Œç„¶åæ‹¿ç»å…¸æ•°æ®é›†æ¥ç»ƒä¹ ã€‚æ•°æ®é›†å¤§å°ä¸º[506,13],ä¸€å…±506ä¸ªæ ·æœ¬ï¼Œ13ä¸ªç‰¹å¾([â€˜CRIMâ€™ â€˜ZNâ€™ â€˜INDUSâ€™ â€˜CHASâ€™ â€˜NOXâ€™ â€˜RMâ€™ â€˜AGEâ€™ â€˜DISâ€™ â€˜RADâ€™ â€˜TAXâ€™ â€˜PTRATIOâ€™ â€˜Bâ€™ â€˜LSTATâ€™])ï¼Œtargetå¤§å°ä¸º[506ï¼Œ1]å¯ä»¥å…ˆé€šè¿‡matplotlibæ¥ç›´è§‚æ„Ÿå—è¿™äº›ç‰¹å¾åˆ†åˆ«ä¸æˆ¿ä»·çš„å…³ç³»ã€‚ä¸ºäº†ç®€åŒ–è®­ç»ƒï¼Œåªé€‰æ‹©äº†ç¬¬6ä¸ªç‰¹å¾[â€˜RMâ€™]æ¥è®­ç»ƒï¼ˆç¬¬6ä¸ªå’Œæœ€åä¸€ä¸ªç‰¹å¾çš„ç›´è§‚çœ‹ä¸Šå»æ¯”è¾ƒç¬¦åˆçº¿æ€§å›å½’ï¼‰ï¼Œ13ä¸ªç‰¹å¾åªåœ¨506ä¸ªæ ·æœ¬ä¸‹æ¯”è¾ƒéš¾å»æ‹Ÿåˆå¥½ã€‚ä¸‹é¢æ˜¯ä»£ç è§£é‡Š#import data boston=load_boston() data=boston.data[:,(5)] label=boston.target #reshape column vector data=data.reshape(-1,1) label=label.reshape(-1,1) å› ä¸ºè¿™é‡Œæˆ‘ä»¬åªå¯¼å…¥ä¸€åˆ—æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ [ ] reshapeä¸º[[ ]]ï¼Œå¦åˆ™ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯Reshape your data either using array.reshape(-1, 1) if your data has a single feature or array.reshape(1, -1) if it contains a single sample.æ¥ä¸‹æ¥ï¼Œå¯¹ç‰¹å¾æ•°æ®åšç‰¹å¾ç¼©æ”¾ï¼ˆå¯¹äºå•ä¸ªç‰¹å¾æ¥è¯´ï¼Œç‰¹å¾ç¼©æ”¾çš„ä½œç”¨å¹¶ä¸æ˜¯ç‰¹åˆ«å¤§ï¼Œä½†ä¹ æƒ¯èµ·è§ï¼Œè¿˜æ˜¯å¯¹å…¶è¿›è¡Œç‰¹å¾ç¼©æ”¾ï¼Œä½†æ˜¯åœ¨å¤šç‰¹å¾ä¸­ï¼Œç‰¹å¾ç¼©æ”¾æ˜¾å¾—å°¤å…¶é‡è¦ï¼Œå¯ä»¥åŠ å¿«æ¢¯åº¦ä¸‹é™ï¼Œè§å›¾ï¼‰æ¥ä¸‹æ¥å°±æ˜¯å®šä¹‰ä¸€äº›å ä½ç¬¦å’Œæƒå€¼ã€åç½®ç­‰å˜é‡åç½®åˆå§‹åŒ–0å³å¯ï¼Œæƒå€¼æœ€å¥½ä¸è¦åˆå§‹åŒ–ä¸º0ï¼Œä½¿ç”¨æ­£å¤ªåˆ†å¸ƒéšæœºå€¼ï¼Œå¦‚æœä½¿ç”¨0å»åˆå§‹åŒ–æƒå€¼ã€‚åœ¨åå‘ä¼ æ’­è®¡ç®—ä¼šå‡ºç°ä¸åŒæƒå€¼å˜åŒ–é‡å§‹ç»ˆç›¸åŒä»è€Œå¯¼è‡´æƒå€¼æ›´æ–°å‡ºç°å¼‚å¸¸ï¼ˆæ¨å¯¼è§å›¾ï¼‰ã€‚#getting number of training set &amp; number of feature m_feature=data.shape[1] m_train=tf.placeholder(dtype=tf.float32) x=tf.placeholder(dtype=tf.float32,shape=[None,m_feature],name=&#39;input&#39;) y_=tf.placeholder(dtype=tf.float32,shape=[None,1],name=&#39;output&#39;) #Define weights and offsets viriables #Initialize weights using a Gaussian distribution #Initialize the bias to 0 w=tf.Variable(tf.truncated_normal(shape=[m_feature,1],stddev=0.003,dtype=tf.float32)) b=tf.Variable(tf.zeros(shape=[1],dtype=tf.float32)) ç„¶åå°±æ˜¯å‰å‘è®¡ç®—å’Œåå‘è®¡ç®—ï¼Œè¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ³¨æ„cost functionçš„é€‰æ‹©å³å¯#Forward calculation y=tf.add(tf.matmul(x,w),b) #use the mean square error function learn_rate=0.08 loss=tf.reduce_sum(tf.pow(y_-y,2)/(2*m_train)) train_step=tf.train.GradientDescentOptimizer(learn_rate).minimize(loss) è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªlistæ¥å­˜å‚¨è®­ç»ƒè¿‡ç¨‹ä¸­çš„losså€¼ï¼Œå†å®šä¹‰ä¸€ä¸ªå¼ é‡erroræ¥ç®€å•è¯„ä¼°æµ‹è¯•çš„è¯¯å·®#variable train_loss is used to save the loss value of each iteration train_loss =[] #error error = tf.reduce_mean(y-y_) ç„¶åå°±å¼€å§‹è¿›è¡Œè®­ç»ƒè¿™é‡Œçš„é‡ç‚¹åœ¨äºæ•°æ®é›†çš„åˆ’åˆ†ï¼Œä¸€å¼€å§‹ç”¨çš„æ˜¯train_test_splitå°†æ•°æ®é›†åˆ’åˆ†æˆä¸¤ä»½ï¼Œ70%ä¸ºè®­ç»ƒé›†ï¼Œ30%ä¸ºæµ‹è¯•é›†ã€‚ä½†æ˜¯å¬å–åˆ«äººå»ºè®®åï¼Œä½¿ç”¨kæŠ˜äº¤å‰éªŒè¯æ³•ã€‚æ‰€è°“kæŠ˜äº¤å‰éªŒè¯æ³•ï¼Œå°±æ˜¯å°†æ•°æ®é›†åˆ†æˆkä»½ï¼Œæ¯æ¬¡å–å…¶ä¸­k-1ä»½ä½œä¸ºè®­ç»ƒé›†ï¼Œå¦å¤–1ä»½ä½œä¸ºæµ‹è¯•é›†ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æ‰€æœ‰æ•°æ®éƒ½æœ‰è¢«åˆ©ç”¨ï¼Œå¯ä»¥å¾—åˆ°æ›´å¥½çš„å‚æ•°ï¼Œä½†æ˜¯è€—æ—¶ä¼šé•¿ä¸€ç‚¹ï¼ˆè§å›¾ï¼‰ã€‚with tf.Session() as sess: sess.run(init) for i in range(150): #k-fold cross validation kf=KFold(n_splits=10) for train_index,test_index in kf.split(data): X_train,X_test=data[train_index],data[test_index] Y_train,Y_test=label[train_index],label[test_index] w_,b_,_,l=sess.run(fetches=[w,b,train_step,loss], feed_dict={x: X_train, y_: Y_train,m_train:X_train.shape[0]}) if i%10==0: print(&quot;Epoch {0} : error:{1}&quot;.format(i,sess.run(error,feed_dict={x:X_test,y_:Y_test}))) train_loss.append(l) #print(&quot;Epoch {0} : loss{1}&quot;.format(i, l)) æˆ‘ç”¨ä¸¤ç§æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œé¦–å…ˆæ˜¯kï¼ˆå–10ï¼‰æŠ˜äº¤å‰éªŒè¯çš„ç»“æœç„¶åæ˜¯train_test_splitåˆ†ç±»æ–¹æ³•çš„ç»“æœè¿˜æ˜¯å¯ä»¥æ¯”è¾ƒæ˜æ˜¾çš„çœ‹åˆ°ï¼Œä¸ç®¡æ˜¯losså€¼è¿˜æ˜¯æ‹Ÿåˆç¨‹åº¦ã€‚æ˜æ˜¾éƒ½æ˜¯kæŠ˜äº¤å‰éªŒè¯æ³•æ•ˆæœæ¯”è¾ƒå¥½ã€‚å®Œæ•´ä»£ç è¯·å‚è€ƒï¼šhttps://github.com/LJP-Perfect/Machine-Learning/tree/master/Linear%20Regressionæ€»ç»“å‡ ç‚¹ï¼š1ã€å¯¹ç‰¹å¾è¿›è¡Œé€‰å–2ã€å¤šç‰¹å¾æ—¶è¿›è¡Œç‰¹å¾ç¼©æ”¾3ã€é€‰å–åˆé€‚çš„cost function4ã€ä½¿ç”¨kæŠ˜äº¤å‰éªŒè¯è¿˜æœªè§£å†³çš„é—®é¢˜ï¼š1ã€åˆå§‹æ•°æ®çš„åˆ†æ2ã€å­¦ä¹ é€Ÿç‡å’Œkå€¼çš„é€‰å–3ã€é€‰æ‹©æ›´å¥½çš„cost function]]></content>
      <categories>
        <category>Machine Learning</category>
      </categories>
      <tags>
        <tag>feature scaling</tag>
        <tag>boston price</tag>
        <tag>bpç®—æ³•</tag>
        <tag>kæŠ˜äº¤å‰éªŒè¯</tag>
        <tag>çº¿æ€§å›å½’</tag>
        <tag>Machine Learning</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµ…æSVMä¹‹æ¦‚å¿µä»‹ç»]]></title>
    <url>%2FSVM.html</url>
    <content type="text"><![CDATA[ç®€å•ä¾‹å­å…ˆä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ã€‚ç°åœ¨æœ‰ä¸€ç»„ä¸¤ä¸ªç±»åˆ«çš„æ•°æ®å¦‚ä¸‹ã€‚è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„äºŒåˆ†ç±»é—®é¢˜ï¼Œå¯¹äºè¿™ä¸€ç»„æ•°æ®ï¼Œè¿™ä¸ªè¶…å¹³é¢å¯ä»¥ç”¨ä»¥ä¸‹å‡½æ•°æ¥è¡¨ç¤ºï¼š(è¶…å¹³é¢æ˜¯ä»nç»´ç©ºé—´åˆ°n-1ç»´ç©ºé—´çš„ä¸€ä¸ªæ˜ å°„å­ç©ºé—´ï¼Œå®ƒæœ‰ä¸€ä¸ªnç»´å‘é‡å’Œä¸€ä¸ªå®æ•°å®šä¹‰)$$w\cdot x+b=0 \qquad (1) $$åˆ†ç±»å†³ç­–å‡½æ•°è¡¨ç¤ºä¸º$$f(x)=sign(w\cdot x+b)$$å³åœ¨è¶…å¹³é¢ä¸Šçš„ç‚¹f(x)=0ï¼Œf(x)å¤§äº0çš„ç‚¹å¯¹åº”y=1,f(x)å°äº0çš„ç‚¹å¯¹åº”y=-1ã€‚æ³¨:signå‡½æ•°ä¸ºç¬¦å·å‡½æ•°,å½“sign(t)ä¸­çš„t&gt;0æ—¶ï¼Œsign(t)=1;t&lt;0æ—¶ï¼Œsign(t)=-1;t=0æ—¶ï¼Œsign(t)=0ã€‚åœ¨é€»è¾‘å›å½’çš„hypotheis functionä¸­ï¼Œå½“$\theta\cdot x$ &gt;0æ—¶ï¼Œè¾“å‡ºy=1ï¼›å½“$\theta\cdot x$ &lt;0ï¼Œè¾“å‡ºy=0ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬é¦–å…ˆå°†$\theta\cdot x$ è¡¨ç¤ºæˆ$w\cdot x+b$ (å…¶å®å°±æ˜¯å°†$\theta_{0}$ä»$\theta$å‘é‡ä¸­æŠ½ç¦»å‡ºæ¥è¡¨ç¤ºæˆb)ï¼ŒåŒæ—¶å°†y=0å’Œy=1è¡¨ç¤ºä¸ºy=1å’Œy=-1(å¯¹äºç»“æœå¹¶ä¸ä¼šäº§ç”Ÿå½±å“)ã€‚å†å›åˆ°åˆ†é—®é¢˜ï¼Œå¯¹äºè¿™ä¸ªäºŒåˆ†ç±»é—®é¢˜å¯ä»¥æœ‰å¾ˆå¤šä¸ªä¸åŒçš„è¶…å¹³é¢æ¥å¯¹å…¶åˆ†å‰²ï¼Œå¦‚ä¸‹å›¾ã€‚ä½†æ˜¯è¿™ä¹ˆå¤šæ¡decision boundaryï¼Œæ€»æ˜¯æœ‰performanceå¥½çš„å’Œä¸å¥½çš„ï¼Œå¦‚ä½•æ‰¾å‡ºæœ€ä¼˜çš„è§£å‘¢ï¼Ÿè¡¨ç°è¯„ä¼°æ ‡å‡†å‡½æ•°é—´éš”å’Œå‡ ä½•é—´éš”å¯¹äºä¸Šé¢çš„ä¸‰ä¸ªè¶…å¹³é¢å¯ä»¥å¾ˆè‡ªç„¶çš„å¾—å‡ºç›´çº¿æ‰€å¯¹åº”çš„æ˜¯è¾ƒå¥½çš„ï¼Œå¾ˆç›´è§‚å¾—å¯ä»¥çœ‹åˆ°å®ƒä¸ä¸¤ä¸ªç±»åˆ«ä¸­ä¸å…¶æœ€è¿‘çš„ç‚¹å¯¹åº”çš„è·ç¦»è¾ƒå¤§ï¼Œè€Œä¸”è¿™æ¡ç›´çº¿å¯¹ä¸€äº›outlierçš„è¡¨ç°ä¹Ÿæ¯”è¾ƒå¥½ï¼Œå³æ³›åŒ–èƒ½åŠ›ã€‚æ‰€ä»¥å¼•å…¥å‡½æ•°é—´éš”æ¥è¿›è¡Œè¡¡é‡ã€‚å‡½æ•°é—´éš”çš„å«ä¹‰å°±æ˜¯è¡¨ç¤ºåˆ†ç±»çš„æ­£ç¡®æ€§åŠç¡®ä¿¡åº¦ï¼Œå¯¹äºè·ç¦»è¶…å¹³é¢è¾ƒè¿œçš„æ ·æœ¬ï¼Œå…¶é¢„æµ‹çš„ç¡®ä¿¡åº¦è¾ƒé«˜ï¼Œåä¹‹è·ç¦»è¾ƒè¿œçš„æ ·æœ¬ï¼Œå…¶é¢„æµ‹çš„ç¡®ä¿¡åº¦è¾ƒä½ã€‚å¯¹äºç»™å®šçš„æŸä¸ªæ ·æœ¬ç‚¹($x_{i}$,$y_{i}$),æˆ‘ä»¬å®šä¹‰è¶…å¹³é¢å…³äºè¯¥æ ·æœ¬ç‚¹çš„å‡½æ•°é—´éš”ä¸º$$\hat\gamma_{i}=y_{i}(w{\cdot}x_{i}+b)\qquad (2)$$é‚£ä¹ˆåœ¨æ‰€æœ‰æ ·æœ¬ä¸­çš„æœ€å°å‡½æ•°é—´éš”å°±ä¸º$$\hat{\gamma}=min\ \hat\gamma_{i},i=1,â€¦,N\qquad (3)$$è™½ç„¶å‡½æ•°é—´éš”å¯ä»¥è¡¨ç¤ºåˆ†ç±»é¢„æµ‹çš„ç¡®ä¿¡åº¦ï¼Œä½†æ˜¯å®ƒæ˜¯ç›¸å¯¹çš„ã€‚å¦‚æœæˆ‘ä»¬æˆæ¯”ä¾‹çš„æ”¹å˜wå’Œbï¼Œè¶…å¹³é¢å¹¶æ²¡æœ‰æ”¹å˜ï¼Œä½†æ˜¯å‡½æ•°é—´éš”å´å˜æˆäº†åŸæ¥çš„ä¸¤å€ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨å‡ ä½•é—´éš”æ¥æ›¿æ¢å‡½æ•°é—´éš”ã€‚å‡ ä½•é—´éš”ä¹Ÿå°±æ˜¯æ ·æœ¬åˆ°è¶…å¹³é¢çš„å‡ ä½•è·ç¦»ï¼Œè®°ä½œ$\gamma_{i}$,$$\gamma_{i}=y_{i}(\frac {w}{||w||} {\cdot}x_{i}+ \frac {b}{||w||})\qquad (4)$$||w||ä¸ºwçš„$L_{2}$èŒƒæ•°ï¼Œå…¶ä¸­$y_{i}$è¡¨ç¤ºäº†$y_{i}$ç­‰ä¸1å’Œ-1çš„æƒ…å†µã€‚é‚£ä¹ˆåœ¨æ‰€æœ‰æ ·æœ¬ä¸­çš„æœ€å°å‡ ä½•é—´éš”å°±ä¸º$${\gamma}=min\ {\gamma}_{i}, i=1,â€¦,N\qquad (5)$$é—´éš”æœ€å¤§åŒ–æ ¹æ®ä¸Šé¢(5)ï¼Œå¯ä»¥å°†æœ€å¤§åŒ–é—®é¢˜è¡¨ç¤ºä¸‹é¢çš„çº¦æŸæœ€ä¼˜åŒ–é—®é¢˜ï¼š$$max\ \gamma\qquad(6)$$$$s.t.\quad y_{i}(\frac {w}{||w||} {\cdot}x_{i}+ \frac {b}{||w||})\geq\gamma,\ i=1,2,â€¦,N\qquad(7)$$æ ¹æ®(2)~(5)ï¼Œå¯ä»¥æ¨å‡º$$\gamma_{i}=\frac {\hat\gamma_{i}}{||w||}\qquad (8)$$$$\gamma=\frac{\hat\gamma}{||w||}\qquad (9)$$æ ¹æ®(9)ï¼Œæ±‚è§£(6)çš„é—®é¢˜å°±å¯ä»¥è½¬åŒ–æˆ$$max\;\frac{\hat\gamma}{||w||}\qquad(10)$$$$s.t.\quad y_{i}(\frac {w}{||w||} {\cdot}x_{i}+ \frac {b}{||w||})\geq\gamma,\ i=1,2,â€¦,N\qquad(11)$$åœ¨ä¹‹å‰çš„æ¨å¯¼è¿‡ç¨‹ä¸­æåˆ°è¿‡å¯¹wå’ŒbæŒ‰æ¯”ä¾‹è¿›è¡Œæ”¾å¤§ç¼©å°å¯¹æ±‚è§£å¹¶ä¸ä¼šäº§ç”Ÿå½±å“ï¼Œæ‰€ä»¥å¾—åˆ°ä»å‡½æ•°é—´éš”åˆ°å‡ ä½•é—´éš”çš„è½¬åŒ–ã€‚ç°åœ¨ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå°†wå’Œbè¿›è¡Œç¼©æ”¾ï¼Œä¹Ÿå°±æ˜¯å¯¹$\hat\gamma$è¿›è¡Œç¼©æ”¾ï¼Œå¯¹æ±‚è§£ç»“æœåŒæ ·ä¹Ÿä¸ä¼šäº§ç”Ÿå½±å“ï¼Œæ‰€ä»¥æˆ‘ä»¬å–$\hat\gamma=1$ï¼Œè¿›è¡Œè¿™ä¸€æ­¥ä¸»è¦æ˜¯ç®€åŒ–ä¹‹åçš„æ•°å­¦è®¡ç®—ã€‚æ­¤æ—¶é—®é¢˜è½¬åŒ–ä¸º$max\;\frac{1}{||w||}$,è€Œ$\frac{1}{||w||}$ æ­£å¥½æ˜¯å‡ ä½•é—´éš”ã€‚è¿›ä¸€æ­¥å¯ä»¥å‘ç°æœ€å¤§åŒ–$\frac{1}{||w||}$ å’Œæœ€å°åŒ–$\frac{1}{2}||w||^{2}$ æ˜¯ç­‰ä»·çš„ï¼Œè‡³æ­¤(10)å°±è½¬æ¢æˆä»¥ä¸‹çš„æœ€ä¼˜åŒ–é—®é¢˜ï¼š$$min\ \frac{1}{2}\ ||w||^{2}\qquad(12)$$$$s.t.\quad y_{i}(\frac{w}{||w||}\cdot x_{i}+ \frac {b}{||w||})-1\geq0,i=1,2,â€¦,N\qquad(13)$$ ,è¿™æ˜¯ä¸€ä¸ªå‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜(å‡¸äºŒæ¬¡è§„åˆ’è¯¦ç»†å†…å®¹é“¾æ¥)ã€‚åªè¦è§£å‡º$w^{\ast}$ å’Œ$b^{\ast}$ å³å¯å¾—åˆ°è¶…å¹³é¢$w^{\ast}\cdot x+b^{\ast}=0$ å’Œåˆ†ç±»å†³ç­–å‡½æ•°$f(x)=w^{\ast}\cdot x+b^{\ast}$ ã€‚å‡ ä½•é—´éš”çš„ç›´è§‚åŒ–å¦‚ä¸‹å›¾ï¼Œæœ€ç»ˆå°±æ˜¯è¦ä½¿marginæœ€å¤§åŒ–çš„ä¸€ä¸ªé—®é¢˜(è´Ÿæ ·æœ¬å’Œæ­£æ ·æœ¬çš„marginåº”æ˜¯ä¸€æ ·çš„)ã€‚ä¸‹å›¾ä¸­ä¸¤æ¡è™šçº¿åˆ°ç›´çº¿çš„è·ç¦»å‡ä¸º$\frac{1}{||w||}$ï¼Œå®šä¹‰åœ¨è™šçº¿ä¸Šçš„ç‚¹ç§°ä¸ºæ”¯æŒå‘é‡(Support vector)ã€‚$w^{\ast}$ å’Œ$b^{\ast}$ çš„æ±‚è§£è¿‡ç¨‹ä¸­å…¶å®åªä¼šå—æ”¯æŒå‘é‡çš„å½±å“ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿåœ¨ä¹‹åçš„ä¸€ç¯‡æ•°å­¦æ¨å¯¼ä¼šç»™å‡ºè¯æ˜ã€‚åˆ°è¿™é‡Œï¼Œå¯¹SVMåº”è¯¥æœ‰äº†ä¸€ä¸ªç®€å•çš„è®¤è¯†ã€‚æ€»çš„æ¥è¯´ï¼ŒSVMå°±æ˜¯è¦æ‰¾å‡ºä¸€ä¸ªè¶…å¹³é¢ï¼Œä½¿ä¸¤ç±»æ ·æœ¬ç‚¹ä¸­æ‰€æœ‰è·ç¦»å®ƒæœ€è¿‘çš„ç‚¹ï¼Œéƒ½å°½å¯èƒ½çš„ç¦»å®ƒè¿œã€‚To be continue]]></content>
      <categories>
        <category>Machine Learning</category>
      </categories>
      <tags>
        <tag>Machine Learning</tag>
        <tag>margin</tag>
        <tag>hypeplane</tag>
        <tag>classfication</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2Fbaidu_verify_D4umA77Wgx.html</url>
    <content type="text"><![CDATA[D4umA77Wgx]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Fbaidu_verify_PQgHckNDnk.html</url>
    <content type="text"><![CDATA[PQgHckNDnk]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Fbaidu_verify_w2CJZAKCk7.html</url>
    <content type="text"><![CDATA[w2CJZAKCk7]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Fgooglea4979d339ced872b.html</url>
    <content type="text"><![CDATA[google-site-verification: googlea4979d339ced872b.html]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F581%2Fstyle.css</url>
    <content type="text"><![CDATA[body{margin:0;background:#222;margin:20px}svg{width:100%;height:100%;position:fixed;top:0;left:0}span{color:#fff;font-family:sans-serif;opacity:.3}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F581%2Findex.js</url>
    <content type="text"><![CDATA[var svg=document.querySelector("svg"),cursor=svg.createSVGPoint(),arrows=document.querySelector(".arrows"),randomAngle=0,target={x:900,y:249.5},lineSegment={x1:875,y1:280,x2:925,y2:220};function knock(e){randomAngle=Math.random()*Math.PI*.03-.015,TweenMax.to(".arrow-angle use",.3,{opacity:1}),window.addEventListener("mousemove",aim),window.addEventListener("mouseup",loose),aim(e),TweenMax.to("#arc",.3,{opacity:1})}function loose(){window.removeEventListener("mousemove",aim),window.removeEventListener("mouseup",loose),TweenMax.to("#bow",.4,{scaleX:1,transformOrigin:"right center",ease:Elastic.easeOut}),TweenMax.to("#bow polyline",.4,{attr:{points:"88,200 88,250 88,300"},ease:Elastic.easeOut});var e=document.createElementNS("http://www.w3.org/2000/svg","use");e.setAttributeNS("http://www.w3.org/1999/xlink","href","#arrow"),arrows.appendChild(e);var t=MorphSVGPlugin.pathDataToBezier("#arc");TweenMax.to([e],.5,{force3D:!0,bezier:{type:"cubic",values:t,autoRotate:["x","y","rotation"]},onUpdate:hitTest,onUpdateParams:["{self}"],onComplete:onMiss,ease:Linear.easeNone}),TweenMax.to("#arc",.3,{opacity:0}),TweenMax.set(".arrow-angle use",{opacity:0})}function hitTest(e){var t=e.target[0]._gsTransform,a=t.rotation*Math.PI/180,n=getIntersection({x1:t.x,y1:t.y,x2:60*Math.cos(a)+t.x,y2:60*Math.sin(a)+t.y},lineSegment);if(n.segment1&&n.segment2){e.pause();var o=n.x-target.x,r=n.y-target.y,s=".hit";Math.sqrt(o*o+r*r)=0&&w=0&&x]]></content>
  </entry>
  <entry>
    <title><![CDATA[Who am I]]></title>
    <url>%2Fabout%2Findex.html</url>
    <content type="text"><![CDATA[å…³äºæˆ‘æµ™æ±Ÿç†å·¥å¤§å­¦ è®¡ç®—æœºä¸“ä¸šå¤§ä¸‰åœ¨è¯»è½»åº¦ä¸­äºŒï¼Œè½»åº¦ç¤¾äº¤ææƒ§åçˆ±ç®€çº¦ï¼Œå–œæ¬¢ç”Ÿæ´»å……æ»¡æ–°é²œæ„Ÿä¼šç‚¹Javaï¼Œç›®å‰æ­£åœ¨å­¦ä¹ æ­å»ºåå°é¡¹ç›®è”ç³»æˆ‘Mailï¼š871560465@qq.comSteamï¼šFreeleeï¼ˆä¸€èµ·Play Gameå•Šï¼‰githubï¼šhttps://github.com/LJP-Perfect]]></content>
  </entry>
  <entry>
    <title><![CDATA[å›¾åº“]]></title>
    <url>%2Fgallery%2Findex.html</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[game]]></title>
    <url>%2Fgame%2Findex.html</url>
    <content type="text"><![CDATA[L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":75,"height":150,"scaling":2,"horizontalOffset":10,"verticalOffset":-40},"mobile":{"show":false,"Scaling":0.5},"log":false,"tagMode":false}); window.ityped.init(document.querySelector(â€˜.itypedâ€™), { strings : [â€˜ å¤§æˆ˜ä¸‰ç™¾å›åˆâ€™], //å¯ä»¥å†™æ— é™æ¡å¥å­ï¼Œåªè¦ç”¨é€—å·éš”å¼€ typeSpeed: 155, //æ‰“å­—çš„é€Ÿåº¦ backSpeed: 60, //åˆ é™¤å­—çš„é€Ÿåº¦ startDelay: 500, //æ¯ä¸€å¥å¼€å§‹æ‰“å­—åœé¡¿çš„æ—¶é—´ backDelay: 2500, //æ¯ä¸€å¥åˆ é™¤å­—çš„åœé¡¿æ—¶é—´ loop: false, //æ˜¯å¦å¾ªç¯åŠ¨ç”» showCursor: true, //æ˜¯å¦æ˜¾ç¤ºå…‰æ ‡ cursorChar: â€œï¸³â€, //è®¾ç½®å…‰æ ‡å­—ç¬¦ });#Bullseye]]></content>
  </entry>
  <entry>
    <title><![CDATA[games]]></title>
    <url>%2Fgames%2Findex.html</url>
    <content type="text"><![CDATA[L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":75,"height":150,"scaling":2,"horizontalOffset":10,"verticalOffset":-40},"mobile":{"show":false,"Scaling":0.5},"log":false,"tagMode":false}); window.ityped.init(document.querySelector(â€˜.itypedâ€™), { strings : [â€˜ ç½‘ç˜¾å°‘å¹´(å¥³)ä»¬ï¼Œå¿«ç©æ¸¸æˆå§â€™], //å¯ä»¥å†™æ— é™æ¡å¥å­ï¼Œåªè¦ç”¨é€—å·éš”å¼€ typeSpeed: 155, //æ‰“å­—çš„é€Ÿåº¦ backSpeed: 60, //åˆ é™¤å­—çš„é€Ÿåº¦ startDelay: 500, //æ¯ä¸€å¥å¼€å§‹æ‰“å­—åœé¡¿çš„æ—¶é—´ backDelay: 2500, //æ¯ä¸€å¥åˆ é™¤å­—çš„åœé¡¿æ—¶é—´ loop: false, //æ˜¯å¦å¾ªç¯åŠ¨ç”» showCursor: true, //æ˜¯å¦æ˜¾ç¤ºå…‰æ ‡ cursorChar: â€œï¸³â€, //è®¾ç½®å…‰æ ‡å­—ç¬¦ });#Bullseye]]></content>
  </entry>
  <entry>
    <title><![CDATA[timeline]]></title>
    <url>%2Ftimeline%2Findex.html</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
  <entry>
    <title><![CDATA[tags]]></title>
    <url>%2Ftags%2Findex.html</url>
    <content type="text"><![CDATA[]]></content>
  </entry>
</search>

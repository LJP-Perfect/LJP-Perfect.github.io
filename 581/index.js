<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://unpkg.com/meting@2.0.1/dist/Meting.min.js"></script>var svg=document.querySelector("svg"),cursor=svg.createSVGPoint(),arrows=document.querySelector(".arrows"),randomAngle=0,target={x:900,y:249.5},lineSegment={x1:875,y1:280,x2:925,y2:220};function knock(e){randomAngle=Math.random()*Math.PI*.03-.015,TweenMax.to(".arrow-angle use",.3,{opacity:1}),window.addEventListener("mousemove",aim),window.addEventListener("mouseup",loose),aim(e),TweenMax.to("#arc",.3,{opacity:1})}function loose(){window.removeEventListener("mousemove",aim),window.removeEventListener("mouseup",loose),TweenMax.to("#bow",.4,{scaleX:1,transformOrigin:"right center",ease:Elastic.easeOut}),TweenMax.to("#bow polyline",.4,{attr:{points:"88,200 88,250 88,300"},ease:Elastic.easeOut});var e=document.createElementNS("http://www.w3.org/2000/svg","use");e.setAttributeNS("http://www.w3.org/1999/xlink","href","#arrow"),arrows.appendChild(e);var t=MorphSVGPlugin.pathDataToBezier("#arc");TweenMax.to([e],.5,{force3D:!0,bezier:{type:"cubic",values:t,autoRotate:["x","y","rotation"]},onUpdate:hitTest,onUpdateParams:["{self}"],onComplete:onMiss,ease:Linear.easeNone}),TweenMax.to("#arc",.3,{opacity:0}),TweenMax.set(".arrow-angle use",{opacity:0})}function hitTest(e){var t=e.target[0]._gsTransform,a=t.rotation*Math.PI/180,n=getIntersection({x1:t.x,y1:t.y,x2:60*Math.cos(a)+t.x,y2:60*Math.sin(a)+t.y},lineSegment);if(n.segment1&&n.segment2){e.pause();var o=n.x-target.x,r=n.y-target.y,s=".hit";Math.sqrt(o*o+r*r)<7&&(s=".bullseye"),showmessage(s)}}function onmiss(){showmessage(".miss")}function="" showmessage(e){tweenmax.killtweensof(e),tweenmax.killchildtweensof(e),tweenmax.set(e,{autoalpha:1}),tweenmax.staggerfromto(e+"="" path",.5,{rotation:-5,scale:0,transformorigin:"center"},{scale:1,ease:back.easeout},.05),tweenmax.staggerto(e+"="" path",.3,{delay:2,rotation:20,scale:0,ease:back.easein},.03)}tweenmax.set(".point",{attr:{cx:target.x,cy:target.y}}),window.addeventlistener("mousedown",knock);var="" pivot="{x:100,y:250};function" aim(e){var="" t="getMouseSVG(e);t.x=Math.min(t.x,pivot.x-7),t.y=Math.max(t.y,pivot.y+7);var" a="t.x-pivot.x,n=t.y-pivot.y,o=Math.atan2(n,a)+randomAngle-Math.PI,r=Math.min(Math.sqrt(a*a+n*n),50),s=Math.min(Math.max(r/30,1),2);TweenMax.to("#bow",.3,{scaleX:s,rotation:o+"rad",transformOrigin:"right" center"});math.min(pivot.x-1="" s*r,88);tweenmax.to(".arrow-angle",.3,{rotation:o+"rad",svgorigin:"100="" 250"}),tweenmax.to(".arrow-angle="" use",.3,{x:-r}),tweenmax.to("#bow="" polyline",.3,{attr:{points:"88,200="" "+math.min(pivot.x-1="" s*r,88)+",250="" 88,300"}});var="" i="9*r,c=Math.cos(o)*i,w=Math.sin(o)*i,x=3*c;TweenMax.to("#arc",.3,{attr:{opacity:1.4-x/800,d:"M100,250c"+c+","+w+","+(x-c)+","+(w+50)+","+x+",50"}})}function" getmousesvg(e){return="" cursor.x="e.clientX,cursor.y=e.clientY,cursor.matrixTransform(svg.getScreenCTM().inverse())}function" getintersection(e,t){var="" null;var="" w="(o*i-r*s)/c,x=(a*i-n*s)/c;return{x:e.x1+w*a,y:e.y1+w*n,segment1:w">=0&&w<=1,segment2:x>=0&&x</=1,segment2:x></7&&(s=".bullseye"),showmessage(s)}}function>